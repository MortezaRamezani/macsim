\hypertarget{classmemory__c}{
\section{memory\_\-c Class Reference}
\label{classmemory__c}\index{memory\_\-c@{memory\_\-c}}
}


memory system  




{\ttfamily \#include $<$memory.h$>$}

Inheritance diagram for memory\_\-c:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=1.159420cm]{classmemory__c}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmemory__c_aa642409499551fb2be1e9c1073f1ae58}{
{\bfseries memory\_\-c} (\hyperlink{classmacsim__c}{macsim\_\-c} $\ast$simBase)}
\label{classmemory__c_aa642409499551fb2be1e9c1073f1ae58}

\item 
bool \hyperlink{classmemory__c_ae7d66a0d0b90fd734cd568e238d626ea}{new\_\-mem\_\-req} (Mem\_\-Req\_\-Type type, Addr addr, uns size, uns delay, \hyperlink{classuop__c}{uop\_\-c} $\ast$uop, function$<$ bool(\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$)$>$ done\_\-func, Counter unique\_\-num, \hyperlink{structpref__req__info__s}{pref\_\-req\_\-info\_\-s} $\ast$pref\_\-info, int core\_\-id, int thread\_\-id, bool ptx)
\item 
int \hyperlink{classmemory__c_ae4385c1817139c78c385339de8a90454}{access} (\hyperlink{classuop__c}{uop\_\-c} $\ast$uop)
\item 
Addr \hyperlink{classmemory__c_aca226079ad178cfcd5724d8b24ec937f}{base\_\-addr} (int core\_\-id, Addr addr)
\item 
int \hyperlink{classmemory__c_a70e1ed0c249016cfab45bfa2ce9a02a7}{line\_\-size} (int core\_\-id)
\item 
int \hyperlink{classmemory__c_afd93c2187e5879151868b3910dbfd99b}{bank\_\-id} (int core\_\-id, Addr addr)
\item 
bool \hyperlink{classmemory__c_a4b10208dda24728f314aa841107c8149}{get\_\-read\_\-port} (int core\_\-id, int bank\_\-id)
\item 
void \hyperlink{classmemory__c_a8663ad14c52686bcb441a55a8bcedc9a}{run\_\-a\_\-cycle} (void)
\item 
void \hyperlink{classmemory__c_a5bca39b03fc329e94230dc84b5649807}{free\_\-req} (int core\_\-id, \hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$req)
\item 
bool \hyperlink{classmemory__c_a64e019e7a18841fa0bb4136c1ce2f7cb}{receive} (int src, int dst, int msg, \hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$req)
\item 
int \hyperlink{classmemory__c_a2c7648ced944361742f1599c30a88e9a}{get\_\-dst\_\-id} (int level, int id)
\item 
int \hyperlink{classmemory__c_af80eff0db7549c4d1f267c608feb65ca}{get\_\-dst\_\-router\_\-id} (int level, int id)
\item 
void \hyperlink{classmemory__c_a37f7bb4a39885372fec26efa24927af9}{get\_\-level\_\-id} (int noc\_\-id, int $\ast$level, int $\ast$id)
\item 
bool \hyperlink{classmemory__c_ab0e78e319360a553d3e9864136176ccb}{done} (\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$req)
\item 
\hyperlink{structdcache__data__s}{dcache\_\-data\_\-s} $\ast$ \hyperlink{classmemory__c_af3cabc34471d4d2af230f86f19799d0d}{access\_\-cache} (int core\_\-id, Addr addr, Addr $\ast$line\_\-addr, bool update, int appl\_\-id)
\item 
\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$ \hyperlink{classmemory__c_a1fe0c501966e1ce43d8fdf6453031c37}{new\_\-wb\_\-req} (Addr addr, int size, bool ptx, \hyperlink{structdcache__data__s}{dcache\_\-data\_\-s} $\ast$data, int level)
\item 
void \hyperlink{classmemory__c_afbfb221d9819b83cc2807b7e539787f6}{print\_\-mshr} (void)
\item 
int \hyperlink{classmemory__c_a5d51af45787095c6453feb810302fd10}{get\_\-num\_\-avail\_\-entry} (int core\_\-id)
\item 
void \hyperlink{classmemory__c_ac244e4897309b864afa535d39e0b61a9}{init} (void)
\item 
\hypertarget{classmemory__c_aea2bbd7d03efed00e880ea6660487964}{
void {\bfseries handle\_\-coherence} (int level, bool hit, bool store, Addr addr, \hyperlink{classdcu__c}{dcu\_\-c} $\ast$cache)}
\label{classmemory__c_aea2bbd7d03efed00e880ea6660487964}

\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
int $\ast$ \hyperlink{classmemory__c_ad2743072864011245a46ee7038df5ae8}{m\_\-iris\_\-node\_\-id}
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static int \hyperlink{classmemory__c_a69b0fb5c2a19b6a196e86d1842a8a8a8}{m\_\-unique\_\-id} = 0
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$ \hyperlink{classmemory__c_a57f0cd07a859cf117bf195cddadfebb3}{allocate\_\-new\_\-entry} (int core\_\-id)
\item 
void \hyperlink{classmemory__c_aea4d542da14dfc9d59d108e2cae665bb}{init\_\-new\_\-req} (\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$req, Mem\_\-Req\_\-Type type, Addr addr, int size, int delay, \hyperlink{classuop__c}{uop\_\-c} $\ast$uop, function$<$ bool(\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$)$>$ done\_\-func, Counter unique\_\-num, Counter priority, int core\_\-id, int thread\_\-id, bool ptx)
\item 
void \hyperlink{classmemory__c_ac3a3a9028dc3577a577c959e5256b38d}{adjust\_\-req} (\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$req, Mem\_\-Req\_\-Type type, Addr addr, int size, int delay, \hyperlink{classuop__c}{uop\_\-c} $\ast$uop, function$<$ bool(\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$)$>$ done\_\-func, Counter unique\_\-num, Counter priority, int core\_\-id, int thread\_\-id, bool ptx)
\item 
\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$ \hyperlink{classmemory__c_aebf82c8ad5dbd9bbda629f0677be0c31}{search\_\-req} (int core\_\-id, Addr addr, int size)
\item 
virtual void \hyperlink{classmemory__c_aa15a04b3d5bb8e6ab0b7274b9c50a319}{set\_\-cache\_\-id} (\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$req)
\item 
\hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$ \hyperlink{classmemory__c_aa2d744d2895b71290ec9475c6faa5640}{evict\_\-prefetch} (int core\_\-id)
\item 
void \hyperlink{classmemory__c_a5dc85d0815f9ebbcf69f4f85845dcb57}{flush\_\-prefetch} (int core\_\-id)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classdcu__c}{dcu\_\-c} $\ast$$\ast$ \hyperlink{classmemory__c_a0bfafc54e9761b2ea991e668efb274c2}{m\_\-l1\_\-cache}
\item 
\hyperlink{classdcu__c}{dcu\_\-c} $\ast$$\ast$ \hyperlink{classmemory__c_a3d8dc521d1b278422bbc42a2a2ef446e}{m\_\-l2\_\-cache}
\item 
\hyperlink{classdcu__c}{dcu\_\-c} $\ast$$\ast$ \hyperlink{classmemory__c_a3ec227755e32dad0987dc9f6ec6681fd}{m\_\-l3\_\-cache}
\item 
\hyperlink{classdram__controller__c}{dram\_\-controller\_\-c} $\ast$$\ast$ \hyperlink{classmemory__c_a7372570a1fb983f16253261193a052bf}{m\_\-dram\_\-controller}
\item 
list$<$ \hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$ $>$ $\ast$ \hyperlink{classmemory__c_ab7b175ea316a51ff771ca652c2dae138}{m\_\-mshr}
\item 
list$<$ \hyperlink{structmem__req__s}{mem\_\-req\_\-s} $\ast$ $>$ $\ast$ \hyperlink{classmemory__c_a4268b16bf6a1f84172fc1a313a8f44c2}{m\_\-mshr\_\-free\_\-list}
\item 
int \hyperlink{classmemory__c_afaf8b643ce736f9ea9b2050b6740e710}{m\_\-num\_\-core}
\item 
int \hyperlink{classmemory__c_a3cf6fe78e2b25f56b3ff51b6f8b383d7}{m\_\-num\_\-l3}
\item 
int \hyperlink{classmemory__c_ade8ecba4b6abbf18ea424e530d0962e9}{m\_\-num\_\-mc}
\item 
int \hyperlink{classmemory__c_a1bf57a0de8f321201f37c448f7f730e7}{m\_\-noc\_\-index\_\-base} \mbox{[}MEM\_\-LAST\mbox{]}
\item 
int \hyperlink{classmemory__c_a7688509a181e0fd29dc6d70f59920f59}{m\_\-noc\_\-id\_\-base} \mbox{[}MEM\_\-LAST\mbox{]}
\item 
Counter \hyperlink{classmemory__c_ac90f740154b2099375a4464a264c3dc0}{m\_\-stop\_\-prefetch}
\item 
int \hyperlink{classmemory__c_abcf822c7e709f6013963173b5a8f6041}{m\_\-l3\_\-interleave\_\-factor}
\item 
\hyperlink{classmacsim__c}{macsim\_\-c} $\ast$ \hyperlink{classmemory__c_a8ba3319a3e385a0984dcb0ff7531a397}{m\_\-simBase}
\item 
unordered\_\-map$<$ Addr, vector$<$ bool $>$ $\ast$ $>$ \hyperlink{classmemory__c_ab6ce4ddeb85e8798bb9d844e6b2d6941}{m\_\-tag\_\-directory}
\item 
unordered\_\-map$<$ Addr, bool $>$ \hyperlink{classmemory__c_a4955ca08d109aa65c8532a1488dfffbb}{m\_\-td\_\-pending\_\-req}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
memory system 

\subsection{Member Function Documentation}
\hypertarget{classmemory__c_ae4385c1817139c78c385339de8a90454}{
\index{memory\_\-c@{memory\_\-c}!access@{access}}
\index{access@{access}!memory_c@{memory\_\-c}}
\subsubsection[{access}]{\setlength{\rightskip}{0pt plus 5cm}int memory\_\-c::access (
\begin{DoxyParamCaption}
\item[{{\bf uop\_\-c} $\ast$}]{ uop}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_ae4385c1817139c78c385339de8a90454}
Access first-\/level cache from execution stage \begin{DoxyReturn}{Returns}
0, if not accessed correctly 

-\/1, generate a new memory request 

L1\_\-latency, if hit 
\end{DoxyReturn}
\hypertarget{classmemory__c_af3cabc34471d4d2af230f86f19799d0d}{
\index{memory\_\-c@{memory\_\-c}!access\_\-cache@{access\_\-cache}}
\index{access\_\-cache@{access\_\-cache}!memory_c@{memory\_\-c}}
\subsubsection[{access\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf dcache\_\-data\_\-s} $\ast$ memory\_\-c::access\_\-cache (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id, }
\item[{Addr}]{ addr, }
\item[{Addr $\ast$}]{ line\_\-addr, }
\item[{bool}]{ update, }
\item[{int}]{ appl\_\-id}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_af3cabc34471d4d2af230f86f19799d0d}
Access L1 data cache \hypertarget{classmemory__c_ac3a3a9028dc3577a577c959e5256b38d}{
\index{memory\_\-c@{memory\_\-c}!adjust\_\-req@{adjust\_\-req}}
\index{adjust\_\-req@{adjust\_\-req}!memory_c@{memory\_\-c}}
\subsubsection[{adjust\_\-req}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::adjust\_\-req (
\begin{DoxyParamCaption}
\item[{{\bf mem\_\-req\_\-s} $\ast$}]{ req, }
\item[{Mem\_\-Req\_\-Type}]{ type, }
\item[{Addr}]{ addr, }
\item[{int}]{ size, }
\item[{int}]{ delay, }
\item[{{\bf uop\_\-c} $\ast$}]{ uop, }
\item[{function$<$ bool({\bf mem\_\-req\_\-s} $\ast$)$>$}]{ done\_\-func, }
\item[{Counter}]{ unique\_\-num, }
\item[{Counter}]{ priority, }
\item[{int}]{ core\_\-id, }
\item[{int}]{ thread\_\-id, }
\item[{bool}]{ ptx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_ac3a3a9028dc3577a577c959e5256b38d}
Adjust a new request. In case of finding matching entry, we need to adjust fields of the matching request \hypertarget{classmemory__c_a57f0cd07a859cf117bf195cddadfebb3}{
\index{memory\_\-c@{memory\_\-c}!allocate\_\-new\_\-entry@{allocate\_\-new\_\-entry}}
\index{allocate\_\-new\_\-entry@{allocate\_\-new\_\-entry}!memory_c@{memory\_\-c}}
\subsubsection[{allocate\_\-new\_\-entry}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mem\_\-req\_\-s} $\ast$ memory\_\-c::allocate\_\-new\_\-entry (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a57f0cd07a859cf117bf195cddadfebb3}
Allocate a new request from free list \hypertarget{classmemory__c_afd93c2187e5879151868b3910dbfd99b}{
\index{memory\_\-c@{memory\_\-c}!bank\_\-id@{bank\_\-id}}
\index{bank\_\-id@{bank\_\-id}!memory_c@{memory\_\-c}}
\subsubsection[{bank\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int memory\_\-c::bank\_\-id (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id, }
\item[{Addr}]{ addr}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_afd93c2187e5879151868b3910dbfd99b}
Return cache bank id \hypertarget{classmemory__c_aca226079ad178cfcd5724d8b24ec937f}{
\index{memory\_\-c@{memory\_\-c}!base\_\-addr@{base\_\-addr}}
\index{base\_\-addr@{base\_\-addr}!memory_c@{memory\_\-c}}
\subsubsection[{base\_\-addr}]{\setlength{\rightskip}{0pt plus 5cm}Addr memory\_\-c::base\_\-addr (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id, }
\item[{Addr}]{ addr}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_aca226079ad178cfcd5724d8b24ec937f}
Return base line address \hypertarget{classmemory__c_ab0e78e319360a553d3e9864136176ccb}{
\index{memory\_\-c@{memory\_\-c}!done@{done}}
\index{done@{done}!memory_c@{memory\_\-c}}
\subsubsection[{done}]{\setlength{\rightskip}{0pt plus 5cm}bool memory\_\-c::done (
\begin{DoxyParamCaption}
\item[{{\bf mem\_\-req\_\-s} $\ast$}]{ req}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_ab0e78e319360a553d3e9864136176ccb}
Cache line fill function \hypertarget{classmemory__c_aa2d744d2895b71290ec9475c6faa5640}{
\index{memory\_\-c@{memory\_\-c}!evict\_\-prefetch@{evict\_\-prefetch}}
\index{evict\_\-prefetch@{evict\_\-prefetch}!memory_c@{memory\_\-c}}
\subsubsection[{evict\_\-prefetch}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mem\_\-req\_\-s} $\ast$ memory\_\-c::evict\_\-prefetch (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_aa2d744d2895b71290ec9475c6faa5640}
When MSHR is full, try to evict a prefetch request \hypertarget{classmemory__c_a5dc85d0815f9ebbcf69f4f85845dcb57}{
\index{memory\_\-c@{memory\_\-c}!flush\_\-prefetch@{flush\_\-prefetch}}
\index{flush\_\-prefetch@{flush\_\-prefetch}!memory_c@{memory\_\-c}}
\subsubsection[{flush\_\-prefetch}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::flush\_\-prefetch (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a5dc85d0815f9ebbcf69f4f85845dcb57}
Flush all prefetches in MSHR \hypertarget{classmemory__c_a5bca39b03fc329e94230dc84b5649807}{
\index{memory\_\-c@{memory\_\-c}!free\_\-req@{free\_\-req}}
\index{free\_\-req@{free\_\-req}!memory_c@{memory\_\-c}}
\subsubsection[{free\_\-req}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::free\_\-req (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id, }
\item[{{\bf mem\_\-req\_\-s} $\ast$}]{ req}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a5bca39b03fc329e94230dc84b5649807}
Deallocate completed memory request \hypertarget{classmemory__c_a2c7648ced944361742f1599c30a88e9a}{
\index{memory\_\-c@{memory\_\-c}!get\_\-dst\_\-id@{get\_\-dst\_\-id}}
\index{get\_\-dst\_\-id@{get\_\-dst\_\-id}!memory_c@{memory\_\-c}}
\subsubsection[{get\_\-dst\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int memory\_\-c::get\_\-dst\_\-id (
\begin{DoxyParamCaption}
\item[{int}]{ level, }
\item[{int}]{ id}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a2c7648ced944361742f1599c30a88e9a}
Using level and its id, get network id \hypertarget{classmemory__c_af80eff0db7549c4d1f267c608feb65ca}{
\index{memory\_\-c@{memory\_\-c}!get\_\-dst\_\-router\_\-id@{get\_\-dst\_\-router\_\-id}}
\index{get\_\-dst\_\-router\_\-id@{get\_\-dst\_\-router\_\-id}!memory_c@{memory\_\-c}}
\subsubsection[{get\_\-dst\_\-router\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int memory\_\-c::get\_\-dst\_\-router\_\-id (
\begin{DoxyParamCaption}
\item[{int}]{ level, }
\item[{int}]{ id}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_af80eff0db7549c4d1f267c608feb65ca}
Using level and its id, get destination router id \hypertarget{classmemory__c_a37f7bb4a39885372fec26efa24927af9}{
\index{memory\_\-c@{memory\_\-c}!get\_\-level\_\-id@{get\_\-level\_\-id}}
\index{get\_\-level\_\-id@{get\_\-level\_\-id}!memory_c@{memory\_\-c}}
\subsubsection[{get\_\-level\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::get\_\-level\_\-id (
\begin{DoxyParamCaption}
\item[{int}]{ noc\_\-id, }
\item[{int $\ast$}]{ level, }
\item[{int $\ast$}]{ id}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a37f7bb4a39885372fec26efa24927af9}
Using network id, get level and its id \hypertarget{classmemory__c_a5d51af45787095c6453feb810302fd10}{
\index{memory\_\-c@{memory\_\-c}!get\_\-num\_\-avail\_\-entry@{get\_\-num\_\-avail\_\-entry}}
\index{get\_\-num\_\-avail\_\-entry@{get\_\-num\_\-avail\_\-entry}!memory_c@{memory\_\-c}}
\subsubsection[{get\_\-num\_\-avail\_\-entry}]{\setlength{\rightskip}{0pt plus 5cm}int memory\_\-c::get\_\-num\_\-avail\_\-entry (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a5d51af45787095c6453feb810302fd10}
Check available entry in mshr \hypertarget{classmemory__c_a4b10208dda24728f314aa841107c8149}{
\index{memory\_\-c@{memory\_\-c}!get\_\-read\_\-port@{get\_\-read\_\-port}}
\index{get\_\-read\_\-port@{get\_\-read\_\-port}!memory_c@{memory\_\-c}}
\subsubsection[{get\_\-read\_\-port}]{\setlength{\rightskip}{0pt plus 5cm}bool memory\_\-c::get\_\-read\_\-port (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id, }
\item[{int}]{ bank\_\-id}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a4b10208dda24728f314aa841107c8149}
Acquire dcache read port with the specified bank \hypertarget{classmemory__c_ac244e4897309b864afa535d39e0b61a9}{
\index{memory\_\-c@{memory\_\-c}!init@{init}}
\index{init@{init}!memory_c@{memory\_\-c}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_ac244e4897309b864afa535d39e0b61a9}
Initialize the memory system. \par
 Setup interconnection network interface. \hypertarget{classmemory__c_aea4d542da14dfc9d59d108e2cae665bb}{
\index{memory\_\-c@{memory\_\-c}!init\_\-new\_\-req@{init\_\-new\_\-req}}
\index{init\_\-new\_\-req@{init\_\-new\_\-req}!memory_c@{memory\_\-c}}
\subsubsection[{init\_\-new\_\-req}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::init\_\-new\_\-req (
\begin{DoxyParamCaption}
\item[{{\bf mem\_\-req\_\-s} $\ast$}]{ req, }
\item[{Mem\_\-Req\_\-Type}]{ type, }
\item[{Addr}]{ addr, }
\item[{int}]{ size, }
\item[{int}]{ delay, }
\item[{{\bf uop\_\-c} $\ast$}]{ uop, }
\item[{function$<$ bool({\bf mem\_\-req\_\-s} $\ast$)$>$}]{ done\_\-func, }
\item[{Counter}]{ unique\_\-num, }
\item[{Counter}]{ priority, }
\item[{int}]{ core\_\-id, }
\item[{int}]{ thread\_\-id, }
\item[{bool}]{ ptx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_aea4d542da14dfc9d59d108e2cae665bb}
Initialize a new request \hypertarget{classmemory__c_a70e1ed0c249016cfab45bfa2ce9a02a7}{
\index{memory\_\-c@{memory\_\-c}!line\_\-size@{line\_\-size}}
\index{line\_\-size@{line\_\-size}!memory_c@{memory\_\-c}}
\subsubsection[{line\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}int memory\_\-c::line\_\-size (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a70e1ed0c249016cfab45bfa2ce9a02a7}
Return cache line size \hypertarget{classmemory__c_ae7d66a0d0b90fd734cd568e238d626ea}{
\index{memory\_\-c@{memory\_\-c}!new\_\-mem\_\-req@{new\_\-mem\_\-req}}
\index{new\_\-mem\_\-req@{new\_\-mem\_\-req}!memory_c@{memory\_\-c}}
\subsubsection[{new\_\-mem\_\-req}]{\setlength{\rightskip}{0pt plus 5cm}bool memory\_\-c::new\_\-mem\_\-req (
\begin{DoxyParamCaption}
\item[{Mem\_\-Req\_\-Type}]{ type, }
\item[{Addr}]{ addr, }
\item[{uns}]{ size, }
\item[{uns}]{ delay, }
\item[{{\bf uop\_\-c} $\ast$}]{ uop, }
\item[{function$<$ bool({\bf mem\_\-req\_\-s} $\ast$)$>$}]{ done\_\-func, }
\item[{Counter}]{ unique\_\-num, }
\item[{{\bf pref\_\-req\_\-info\_\-s} $\ast$}]{ pref\_\-info, }
\item[{int}]{ core\_\-id, }
\item[{int}]{ thread\_\-id, }
\item[{bool}]{ ptx}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_ae7d66a0d0b90fd734cd568e238d626ea}
Generate a new memory request 
\begin{DoxyParams}{Parameters}
\item[{\em type}]-\/ memory request type \item[{\em addr}]-\/ memory request address \item[{\em size}]-\/ memory request size \item[{\em delay}]-\/ delay \item[{\em uop}]-\/ request generating uop \item[{\em done\_\-func}]-\/ done function \item[{\em unique\_\-num}]-\/ uop unique number \item[{\em pref\_\-info}]-\/ prefetch information structure \item[{\em core\_\-id}]-\/ core id \item[{\em thread\_\-id}]-\/ thread id \item[{\em ptx}]-\/ GPU request \end{DoxyParams}
\begin{DoxyReturn}{Returns}
false, if mshr full or l2 queue full 

true, otherwise 
\end{DoxyReturn}
\hypertarget{classmemory__c_a1fe0c501966e1ce43d8fdf6453031c37}{
\index{memory\_\-c@{memory\_\-c}!new\_\-wb\_\-req@{new\_\-wb\_\-req}}
\index{new\_\-wb\_\-req@{new\_\-wb\_\-req}!memory_c@{memory\_\-c}}
\subsubsection[{new\_\-wb\_\-req}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mem\_\-req\_\-s} $\ast$ memory\_\-c::new\_\-wb\_\-req (
\begin{DoxyParamCaption}
\item[{Addr}]{ addr, }
\item[{int}]{ size, }
\item[{bool}]{ ptx, }
\item[{{\bf dcache\_\-data\_\-s} $\ast$}]{ data, }
\item[{int}]{ level}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a1fe0c501966e1ce43d8fdf6453031c37}
Generate a new write-\/back request \hypertarget{classmemory__c_afbfb221d9819b83cc2807b7e539787f6}{
\index{memory\_\-c@{memory\_\-c}!print\_\-mshr@{print\_\-mshr}}
\index{print\_\-mshr@{print\_\-mshr}!memory_c@{memory\_\-c}}
\subsubsection[{print\_\-mshr}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::print\_\-mshr (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_afbfb221d9819b83cc2807b7e539787f6}
Print all entries in MSHR \hypertarget{classmemory__c_a64e019e7a18841fa0bb4136c1ce2f7cb}{
\index{memory\_\-c@{memory\_\-c}!receive@{receive}}
\index{receive@{receive}!memory_c@{memory\_\-c}}
\subsubsection[{receive}]{\setlength{\rightskip}{0pt plus 5cm}bool memory\_\-c::receive (
\begin{DoxyParamCaption}
\item[{int}]{ src, }
\item[{int}]{ dst, }
\item[{int}]{ msg, }
\item[{{\bf mem\_\-req\_\-s} $\ast$}]{ req}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a64e019e7a18841fa0bb4136c1ce2f7cb}
Receive a message from NoC \hypertarget{classmemory__c_a8663ad14c52686bcb441a55a8bcedc9a}{
\index{memory\_\-c@{memory\_\-c}!run\_\-a\_\-cycle@{run\_\-a\_\-cycle}}
\index{run\_\-a\_\-cycle@{run\_\-a\_\-cycle}!memory_c@{memory\_\-c}}
\subsubsection[{run\_\-a\_\-cycle}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::run\_\-a\_\-cycle (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}
\label{classmemory__c_a8663ad14c52686bcb441a55a8bcedc9a}
Tick a cycle for the memory system \hypertarget{classmemory__c_aebf82c8ad5dbd9bbda629f0677be0c31}{
\index{memory\_\-c@{memory\_\-c}!search\_\-req@{search\_\-req}}
\index{search\_\-req@{search\_\-req}!memory_c@{memory\_\-c}}
\subsubsection[{search\_\-req}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mem\_\-req\_\-s} $\ast$ memory\_\-c::search\_\-req (
\begin{DoxyParamCaption}
\item[{int}]{ core\_\-id, }
\item[{Addr}]{ addr, }
\item[{int}]{ size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_aebf82c8ad5dbd9bbda629f0677be0c31}
Search a request from queues \hypertarget{classmemory__c_aa15a04b3d5bb8e6ab0b7274b9c50a319}{
\index{memory\_\-c@{memory\_\-c}!set\_\-cache\_\-id@{set\_\-cache\_\-id}}
\index{set\_\-cache\_\-id@{set\_\-cache\_\-id}!memory_c@{memory\_\-c}}
\subsubsection[{set\_\-cache\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}void memory\_\-c::set\_\-cache\_\-id (
\begin{DoxyParamCaption}
\item[{{\bf mem\_\-req\_\-s} $\ast$}]{ req}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected, virtual\mbox{]}}}}
\label{classmemory__c_aa15a04b3d5bb8e6ab0b7274b9c50a319}
Set the level of each cache level 

Reimplemented in \hyperlink{classl2__coupled__local__c_a4f3ca72f4a2ee33fa7f8b97b21e72364}{l2\_\-coupled\_\-local\_\-c}, \hyperlink{classno__cache__c_aec1175eba0781322b067d5fa906391ed}{no\_\-cache\_\-c}, \hyperlink{classl2__decoupled__network__c_aea63c8492607041d4d3ab90c8fa2961e}{l2\_\-decoupled\_\-network\_\-c}, and \hyperlink{classl2__decoupled__local__c_a4c319b02982447d98079bf6649fa5c15}{l2\_\-decoupled\_\-local\_\-c}.



\subsection{Member Data Documentation}
\hypertarget{classmemory__c_a7372570a1fb983f16253261193a052bf}{
\index{memory\_\-c@{memory\_\-c}!m\_\-dram\_\-controller@{m\_\-dram\_\-controller}}
\index{m\_\-dram\_\-controller@{m\_\-dram\_\-controller}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-dram\_\-controller}]{\setlength{\rightskip}{0pt plus 5cm}{\bf dram\_\-controller\_\-c}$\ast$$\ast$ {\bf memory\_\-c::m\_\-dram\_\-controller}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a7372570a1fb983f16253261193a052bf}
dram controllers \hypertarget{classmemory__c_ad2743072864011245a46ee7038df5ae8}{
\index{memory\_\-c@{memory\_\-c}!m\_\-iris\_\-node\_\-id@{m\_\-iris\_\-node\_\-id}}
\index{m\_\-iris\_\-node\_\-id@{m\_\-iris\_\-node\_\-id}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-iris\_\-node\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int$\ast$ {\bf memory\_\-c::m\_\-iris\_\-node\_\-id}}}
\label{classmemory__c_ad2743072864011245a46ee7038df5ae8}
noc id for iris network nodes \hypertarget{classmemory__c_a0bfafc54e9761b2ea991e668efb274c2}{
\index{memory\_\-c@{memory\_\-c}!m\_\-l1\_\-cache@{m\_\-l1\_\-cache}}
\index{m\_\-l1\_\-cache@{m\_\-l1\_\-cache}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-l1\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf dcu\_\-c}$\ast$$\ast$ {\bf memory\_\-c::m\_\-l1\_\-cache}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a0bfafc54e9761b2ea991e668efb274c2}
L1 caches \hypertarget{classmemory__c_a3d8dc521d1b278422bbc42a2a2ef446e}{
\index{memory\_\-c@{memory\_\-c}!m\_\-l2\_\-cache@{m\_\-l2\_\-cache}}
\index{m\_\-l2\_\-cache@{m\_\-l2\_\-cache}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-l2\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf dcu\_\-c}$\ast$$\ast$ {\bf memory\_\-c::m\_\-l2\_\-cache}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a3d8dc521d1b278422bbc42a2a2ef446e}
L2 caches \hypertarget{classmemory__c_a3ec227755e32dad0987dc9f6ec6681fd}{
\index{memory\_\-c@{memory\_\-c}!m\_\-l3\_\-cache@{m\_\-l3\_\-cache}}
\index{m\_\-l3\_\-cache@{m\_\-l3\_\-cache}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-l3\_\-cache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf dcu\_\-c}$\ast$$\ast$ {\bf memory\_\-c::m\_\-l3\_\-cache}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a3ec227755e32dad0987dc9f6ec6681fd}
L3 caches \hypertarget{classmemory__c_abcf822c7e709f6013963173b5a8f6041}{
\index{memory\_\-c@{memory\_\-c}!m\_\-l3\_\-interleave\_\-factor@{m\_\-l3\_\-interleave\_\-factor}}
\index{m\_\-l3\_\-interleave\_\-factor@{m\_\-l3\_\-interleave\_\-factor}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-l3\_\-interleave\_\-factor}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf memory\_\-c::m\_\-l3\_\-interleave\_\-factor}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_abcf822c7e709f6013963173b5a8f6041}
mask bit for L3 id \hypertarget{classmemory__c_ab7b175ea316a51ff771ca652c2dae138}{
\index{memory\_\-c@{memory\_\-c}!m\_\-mshr@{m\_\-mshr}}
\index{m\_\-mshr@{m\_\-mshr}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-mshr}]{\setlength{\rightskip}{0pt plus 5cm}list$<${\bf mem\_\-req\_\-s}$\ast$$>$$\ast$ {\bf memory\_\-c::m\_\-mshr}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_ab7b175ea316a51ff771ca652c2dae138}
mshr entry per L1 cache \hypertarget{classmemory__c_a4268b16bf6a1f84172fc1a313a8f44c2}{
\index{memory\_\-c@{memory\_\-c}!m\_\-mshr\_\-free\_\-list@{m\_\-mshr\_\-free\_\-list}}
\index{m\_\-mshr\_\-free\_\-list@{m\_\-mshr\_\-free\_\-list}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-mshr\_\-free\_\-list}]{\setlength{\rightskip}{0pt plus 5cm}list$<${\bf mem\_\-req\_\-s}$\ast$$>$$\ast$ {\bf memory\_\-c::m\_\-mshr\_\-free\_\-list}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a4268b16bf6a1f84172fc1a313a8f44c2}
mshr entry free list \hypertarget{classmemory__c_a7688509a181e0fd29dc6d70f59920f59}{
\index{memory\_\-c@{memory\_\-c}!m\_\-noc\_\-id\_\-base@{m\_\-noc\_\-id\_\-base}}
\index{m\_\-noc\_\-id\_\-base@{m\_\-noc\_\-id\_\-base}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-noc\_\-id\_\-base}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf memory\_\-c::m\_\-noc\_\-id\_\-base}\mbox{[}MEM\_\-LAST\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a7688509a181e0fd29dc6d70f59920f59}
noc id base per level \hypertarget{classmemory__c_a1bf57a0de8f321201f37c448f7f730e7}{
\index{memory\_\-c@{memory\_\-c}!m\_\-noc\_\-index\_\-base@{m\_\-noc\_\-index\_\-base}}
\index{m\_\-noc\_\-index\_\-base@{m\_\-noc\_\-index\_\-base}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-noc\_\-index\_\-base}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf memory\_\-c::m\_\-noc\_\-index\_\-base}\mbox{[}MEM\_\-LAST\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a1bf57a0de8f321201f37c448f7f730e7}
component id of each memory hierarchy \hypertarget{classmemory__c_afaf8b643ce736f9ea9b2050b6740e710}{
\index{memory\_\-c@{memory\_\-c}!m\_\-num\_\-core@{m\_\-num\_\-core}}
\index{m\_\-num\_\-core@{m\_\-num\_\-core}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-num\_\-core}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf memory\_\-c::m\_\-num\_\-core}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_afaf8b643ce736f9ea9b2050b6740e710}
number of cores \hypertarget{classmemory__c_a3cf6fe78e2b25f56b3ff51b6f8b383d7}{
\index{memory\_\-c@{memory\_\-c}!m\_\-num\_\-l3@{m\_\-num\_\-l3}}
\index{m\_\-num\_\-l3@{m\_\-num\_\-l3}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-num\_\-l3}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf memory\_\-c::m\_\-num\_\-l3}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a3cf6fe78e2b25f56b3ff51b6f8b383d7}
number of l3 caches \hypertarget{classmemory__c_ade8ecba4b6abbf18ea424e530d0962e9}{
\index{memory\_\-c@{memory\_\-c}!m\_\-num\_\-mc@{m\_\-num\_\-mc}}
\index{m\_\-num\_\-mc@{m\_\-num\_\-mc}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-num\_\-mc}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf memory\_\-c::m\_\-num\_\-mc}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_ade8ecba4b6abbf18ea424e530d0962e9}
number of memory controllers \hypertarget{classmemory__c_a8ba3319a3e385a0984dcb0ff7531a397}{
\index{memory\_\-c@{memory\_\-c}!m\_\-simBase@{m\_\-simBase}}
\index{m\_\-simBase@{m\_\-simBase}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-simBase}]{\setlength{\rightskip}{0pt plus 5cm}{\bf macsim\_\-c}$\ast$ {\bf memory\_\-c::m\_\-simBase}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a8ba3319a3e385a0984dcb0ff7531a397}
\hyperlink{classmacsim__c}{macsim\_\-c} base class for simulation globals \hypertarget{classmemory__c_ac90f740154b2099375a4464a264c3dc0}{
\index{memory\_\-c@{memory\_\-c}!m\_\-stop\_\-prefetch@{m\_\-stop\_\-prefetch}}
\index{m\_\-stop\_\-prefetch@{m\_\-stop\_\-prefetch}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-stop\_\-prefetch}]{\setlength{\rightskip}{0pt plus 5cm}Counter {\bf memory\_\-c::m\_\-stop\_\-prefetch}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_ac90f740154b2099375a4464a264c3dc0}
when set, no prefetches will be inserted \hypertarget{classmemory__c_ab6ce4ddeb85e8798bb9d844e6b2d6941}{
\index{memory\_\-c@{memory\_\-c}!m\_\-tag\_\-directory@{m\_\-tag\_\-directory}}
\index{m\_\-tag\_\-directory@{m\_\-tag\_\-directory}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-tag\_\-directory}]{\setlength{\rightskip}{0pt plus 5cm}unordered\_\-map$<$Addr, vector$<$bool$>$$\ast$$>$ {\bf memory\_\-c::m\_\-tag\_\-directory}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_ab6ce4ddeb85e8798bb9d844e6b2d6941}
oracle cache coherence table \hypertarget{classmemory__c_a4955ca08d109aa65c8532a1488dfffbb}{
\index{memory\_\-c@{memory\_\-c}!m\_\-td\_\-pending\_\-req@{m\_\-td\_\-pending\_\-req}}
\index{m\_\-td\_\-pending\_\-req@{m\_\-td\_\-pending\_\-req}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-td\_\-pending\_\-req}]{\setlength{\rightskip}{0pt plus 5cm}unordered\_\-map$<$Addr, bool$>$ {\bf memory\_\-c::m\_\-td\_\-pending\_\-req}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmemory__c_a4955ca08d109aa65c8532a1488dfffbb}
pending requests in tag directory \hypertarget{classmemory__c_a69b0fb5c2a19b6a196e86d1842a8a8a8}{
\index{memory\_\-c@{memory\_\-c}!m\_\-unique\_\-id@{m\_\-unique\_\-id}}
\index{m\_\-unique\_\-id@{m\_\-unique\_\-id}!memory_c@{memory\_\-c}}
\subsubsection[{m\_\-unique\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf memory\_\-c::m\_\-unique\_\-id} = 0\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}
\label{classmemory__c_a69b0fb5c2a19b6a196e86d1842a8a8a8}
unique memory request id 

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
memory.h\item 
memory.cc\end{DoxyCompactItemize}
