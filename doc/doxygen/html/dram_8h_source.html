<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MacSim: dram.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>dram.h</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**********************************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> * File         : dram.h </span>
<a name="l00003"></a>00003 <span class="comment"> * Author       : Jaekyu Lee</span>
<a name="l00004"></a>00004 <span class="comment"> * Date         : 11/3/2009</span>
<a name="l00005"></a>00005 <span class="comment"> * SVN          : $Id: dram.h 912 2009-11-20 19:09:21Z kacear $</span>
<a name="l00006"></a>00006 <span class="comment"> * Description  : Dram Controller </span>
<a name="l00007"></a>00007 <span class="comment"> *********************************************************************************************/</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef DRAM_H</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define DRAM_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;macsim.h&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;global_types.h&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;global_defs.h&quot;</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 
<a name="l00025"></a>00025 <span class="keyword">enum</span> DRAM_STATE {
<a name="l00026"></a>00026   DRAM_INIT, 
<a name="l00027"></a>00027   DRAM_CMD, 
<a name="l00028"></a>00028   DRAM_CMD_WAIT, 
<a name="l00029"></a>00029   DRAM_DATA, 
<a name="l00030"></a>00030   DRAM_DATA_WAIT, 
<a name="l00031"></a>00031 }; 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 
<a name="l00037"></a><a class="code" href="structdrb__entry__s.html">00037</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a> {
<a name="l00038"></a><a class="code" href="structdrb__entry__s.html#a8023e241d97559b802aed5ded291097b">00038</a>   <span class="keyword">static</span> <span class="keywordtype">int</span>  <a class="code" href="structdrb__entry__s.html#a8023e241d97559b802aed5ded291097b">m_unique_id</a>;      
<a name="l00039"></a><a class="code" href="structdrb__entry__s.html#af2230e8e5cbc01c5d1d36e7bd9ff2baf">00039</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#af2230e8e5cbc01c5d1d36e7bd9ff2baf">m_id</a>;             
<a name="l00040"></a><a class="code" href="structdrb__entry__s.html#ae4be988b683e61a224097314c628fd2f">00040</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#ae4be988b683e61a224097314c628fd2f">m_state</a>;          
<a name="l00041"></a><a class="code" href="structdrb__entry__s.html#a0f1460584c1177374f945ff1a3a54002">00041</a>   Addr        <a class="code" href="structdrb__entry__s.html#a0f1460584c1177374f945ff1a3a54002">m_addr</a>;           
<a name="l00042"></a><a class="code" href="structdrb__entry__s.html#a432a11793c38396a9dcaa721b4558be5">00042</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#a432a11793c38396a9dcaa721b4558be5">m_bid</a>;            
<a name="l00043"></a><a class="code" href="structdrb__entry__s.html#ae2b908fe6d45df4e87ff9311cb3a7cb3">00043</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#ae2b908fe6d45df4e87ff9311cb3a7cb3">m_rid</a>;            
<a name="l00044"></a><a class="code" href="structdrb__entry__s.html#a87cb70765e32b180691044cfbbfd2a68">00044</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#a87cb70765e32b180691044cfbbfd2a68">m_cid</a>;            
<a name="l00045"></a><a class="code" href="structdrb__entry__s.html#ab497c914977561ea3f790b90a80fcbea">00045</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#ab497c914977561ea3f790b90a80fcbea">m_core_id</a>;        
<a name="l00046"></a><a class="code" href="structdrb__entry__s.html#a9c4047d6412445c6d01df388fef1a761">00046</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#a9c4047d6412445c6d01df388fef1a761">m_thread_id</a>;      
<a name="l00047"></a><a class="code" href="structdrb__entry__s.html#addc71155d0dc3d0b0a808fbbab7de012">00047</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#addc71155d0dc3d0b0a808fbbab7de012">m_appl_id</a>;        
<a name="l00048"></a><a class="code" href="structdrb__entry__s.html#a209735d05c8d951ac9f4b7df8ef19ea6">00048</a>   <span class="keywordtype">bool</span>        <a class="code" href="structdrb__entry__s.html#a209735d05c8d951ac9f4b7df8ef19ea6">m_read</a>;           
<a name="l00049"></a><a class="code" href="structdrb__entry__s.html#ae49002fe9eceba05d97cf23ddcceeaea">00049</a>   <a class="code" href="structmem__req__s.html" title="memory request data structure">mem_req_s</a>  *<a class="code" href="structdrb__entry__s.html#ae49002fe9eceba05d97cf23ddcceeaea">m_req</a>;            
<a name="l00050"></a><a class="code" href="structdrb__entry__s.html#a09a64c18e0299a6390ca456c08de7e31">00050</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#a09a64c18e0299a6390ca456c08de7e31">m_priority</a>;       
<a name="l00051"></a><a class="code" href="structdrb__entry__s.html#a9c9e5421e638131d5cb0873b54132254">00051</a>   <span class="keywordtype">int</span>         <a class="code" href="structdrb__entry__s.html#a9c9e5421e638131d5cb0873b54132254">m_size</a>;           
<a name="l00052"></a><a class="code" href="structdrb__entry__s.html#a3d8d1a01bae3ed44b066762fc7b06986">00052</a>   Counter     <a class="code" href="structdrb__entry__s.html#a3d8d1a01bae3ed44b066762fc7b06986">m_timestamp</a>;      
<a name="l00053"></a><a class="code" href="structdrb__entry__s.html#a967c6ecd056b73b1775bf150d9bef358">00053</a>   Counter     <a class="code" href="structdrb__entry__s.html#a967c6ecd056b73b1775bf150d9bef358">m_scheduled</a>;      
<a name="l00054"></a><a class="code" href="structdrb__entry__s.html#acf3a8b744c9a0e9e6913668c857708c3">00054</a>   <a class="code" href="classmacsim__c.html">macsim_c</a>*   <a class="code" href="structdrb__entry__s.html#acf3a8b744c9a0e9e6913668c857708c3">m_simBase</a>;        
<a name="l00055"></a>00055   <span class="comment">// m_type;</span>
<a name="l00056"></a>00056   <span class="comment">// m_core_type;</span>
<a name="l00057"></a>00057 
<a name="l00062"></a>00062   <a class="code" href="structdrb__entry__s.html#acc45beb7376b2f0d875a367292a628c9">drb_entry_s</a>(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l00063"></a>00063 
<a name="l00067"></a>00067   <span class="keywordtype">void</span> <span class="keyword">set</span>(<a class="code" href="structmem__req__s.html" title="memory request data structure">mem_req_s</a>* req, <span class="keywordtype">int</span> bid, <span class="keywordtype">int</span> rid, <span class="keywordtype">int</span> cid);
<a name="l00068"></a>00068 
<a name="l00072"></a>00072   <span class="keywordtype">void</span> <a class="code" href="structdrb__entry__s.html#a51c1466ba9f805bd281b7183cbcb8796">reset</a>();
<a name="l00073"></a>00073 } <a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a>;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00079"></a><a class="code" href="classdram__controller__c.html">00079</a> <span class="keyword">class </span><a class="code" href="classdram__controller__c.html" title="Base dram scheduling class (FCFS).">dram_controller_c</a>
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081   <span class="keyword">public</span>:
<a name="l00086"></a>00086     <a class="code" href="classdram__controller__c.html#a7248fd90d56110a6b7694546f9eb0d24">dram_controller_c</a>(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l00087"></a>00087 
<a name="l00091"></a>00091     <span class="keyword">virtual</span> <a class="code" href="classdram__controller__c.html#a1c1930981dac68e329b7fba36926fe4c">~dram_controller_c</a>();
<a name="l00092"></a>00092     
<a name="l00096"></a>00096     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a6da28c92cae6664ba2850cb7940e8c26">init</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> noc_id);
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <span class="comment">// controller</span>
<a name="l00102"></a>00102 <span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="classdram__controller__c.html#a49256d356f26730395d1f80ddbc4b9e6">insert_new_req</a>(<a class="code" href="structmem__req__s.html" title="memory request data structure">mem_req_s</a>* mem_req);
<a name="l00103"></a>00103 
<a name="l00107"></a>00107     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a7e9c891a53b54277e87564f4883adf4a">insert_req_in_drb</a>(<a class="code" href="structmem__req__s.html" title="memory request data structure">mem_req_s</a>* req, <span class="keywordtype">int</span> bid, <span class="keywordtype">int</span> rid, <span class="keywordtype">int</span> cid);
<a name="l00108"></a>00108 
<a name="l00112"></a>00112     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a73581d9a96758d6f7fa8cc085a0cbddf">run_a_cycle</a>();
<a name="l00113"></a>00113     
<a name="l00117"></a>00117     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#aaff58a137e82a8096c8c66f58cdff99d">create_network_interface</a>(<span class="keywordtype">void</span>);
<a name="l00118"></a>00118     
<a name="l00119"></a>00119     <span class="keywordtype">void</span> print_req(<span class="keywordtype">void</span>);
<a name="l00120"></a>00120     
<a name="l00121"></a>00121   <span class="keyword">public</span>:
<a name="l00122"></a>00122 <span class="preprocessor">    #define DRAM_REQ_PRIORITY_COUNT 12</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span><span class="preprocessor">    #define DRAM_STATE_COUNT 5</span>
<a name="l00124"></a>00124 <span class="preprocessor"></span>    <span class="keyword">static</span> <span class="keywordtype">int</span> dram_req_priority[DRAM_REQ_PRIORITY_COUNT];
<a name="l00125"></a>00125     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* dram_state[DRAM_STATE_COUNT];
<a name="l00126"></a>00126 
<a name="l00127"></a>00127   <span class="keyword">protected</span>:
<a name="l00131"></a>00131     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#aa867d0ef9025402fd101fa6805b7eabc">bank_schedule</a>();
<a name="l00132"></a>00132 
<a name="l00136"></a>00136     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#ac756549d7ec5f7fa43da299ed202a765">bank_schedule_new</a>();
<a name="l00137"></a>00137 
<a name="l00141"></a>00141     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a841f14d3e9210fe4cf61c8f2af3c8a6e">bank_schedule_complete</a>();
<a name="l00142"></a>00142 
<a name="l00147"></a>00147     <span class="keyword">virtual</span> <a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a>* <a class="code" href="classdram__controller__c.html#a0ce04de6742977e7c962ef977c1b9da0">schedule</a>(list&lt;drb_entry_s*&gt;* drb_list);
<a name="l00148"></a>00148 
<a name="l00152"></a>00152     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a4bb5af511ad009ac4e74ce07e4df745f">channel_schedule</a>();
<a name="l00153"></a>00153 
<a name="l00157"></a>00157     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#aed40936dd5ade7769eb84a8624dc06a8">channel_schedule_cmd</a>();
<a name="l00158"></a>00158 
<a name="l00162"></a>00162     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#aa33f2630c24db2bec43bccd6c8a5e3cc">channel_schedule_data</a>();
<a name="l00163"></a>00163 
<a name="l00167"></a>00167     <span class="keywordtype">bool</span> <a class="code" href="classdram__controller__c.html#adee305e1751db04ee9db1ffd30caa6a5">avail_data_bus</a>(<span class="keywordtype">int</span>);
<a name="l00168"></a>00168 
<a name="l00172"></a>00172     Counter <a class="code" href="classdram__controller__c.html#a064fedf84d64d7addfeed1ac14c5b749">acquire_data_bus</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">bool</span> gpu_req);
<a name="l00173"></a>00173 
<a name="l00177"></a>00177     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a97f17a711a47b54cc912c11192978d85">flush_prefetch</a>(<span class="keywordtype">int</span> bid);
<a name="l00178"></a>00178 
<a name="l00184"></a>00184     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a64503f53340c0f14ab7f5bc64d55777d">progress_check</a>();
<a name="l00185"></a>00185 
<a name="l00190"></a>00190     <span class="keywordtype">bool</span> <a class="code" href="classdram__controller__c.html#afc34a8f4247b6197ee16f33383366303">send_packet</a>(<a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a>* req);
<a name="l00191"></a>00191 
<a name="l00195"></a>00195     <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#af4ab757ab961800b38c1a5602419c59f">receive_packet</a>(<span class="keywordtype">void</span>);
<a name="l00196"></a>00196 
<a name="l00200"></a>00200     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a817c599eb63d1545e3351003fdf6da76">on_insert</a>(<a class="code" href="structmem__req__s.html" title="memory request data structure">mem_req_s</a>* req, <span class="keywordtype">int</span> bid, <span class="keywordtype">int</span> rid, <span class="keywordtype">int</span> cid);
<a name="l00201"></a>00201 
<a name="l00205"></a>00205     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#ab9a5c51da823023ca5f0a3dbb68a8856">on_complete</a>(<a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a>* req);
<a name="l00206"></a>00206 
<a name="l00210"></a>00210     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classdram__controller__c.html#a27a7f5cb6b2a8666f4444816c0c86ba1">on_run_a_cycle</a>();
<a name="l00211"></a>00211 
<a name="l00212"></a>00212   <span class="keyword">protected</span>:
<a name="l00213"></a><a class="code" href="classdram__controller__c.html#ae827da2c640a345b548f55c4619df6c3">00213</a>     list&lt;drb_entry_s*&gt; *<a class="code" href="classdram__controller__c.html#ae827da2c640a345b548f55c4619df6c3">m_buffer</a>; 
<a name="l00214"></a><a class="code" href="classdram__controller__c.html#a62d96cc25786a499d89ae5d17732e532">00214</a>     list&lt;drb_entry_s*&gt; *<a class="code" href="classdram__controller__c.html#a62d96cc25786a499d89ae5d17732e532">m_buffer_free_list</a>; 
<a name="l00215"></a><a class="code" href="classdram__controller__c.html#a52b6d16df53c6b0482cbdc782719d3dc">00215</a>     <a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a>** <a class="code" href="classdram__controller__c.html#a52b6d16df53c6b0482cbdc782719d3dc">m_current_list</a>; 
<a name="l00216"></a><a class="code" href="classdram__controller__c.html#a7b69bd4b34ed9754a30e69e0bdebb609">00216</a>     <span class="keywordtype">int</span>* <a class="code" href="classdram__controller__c.html#a7b69bd4b34ed9754a30e69e0bdebb609">m_current_rid</a>; 
<a name="l00217"></a><a class="code" href="classdram__controller__c.html#ad4f31c52a4c3858ae5fae007bc954c09">00217</a>     Counter* <a class="code" href="classdram__controller__c.html#ad4f31c52a4c3858ae5fae007bc954c09">m_bank_ready</a>; 
<a name="l00218"></a><a class="code" href="classdram__controller__c.html#a923a18758cbecc2b240c619309f82cdd">00218</a>     Counter* <a class="code" href="classdram__controller__c.html#a923a18758cbecc2b240c619309f82cdd">m_data_ready</a>; 
<a name="l00219"></a><a class="code" href="classdram__controller__c.html#a9ff45b23f89fb48e07a21253a28d5903">00219</a>     Counter* <a class="code" href="classdram__controller__c.html#a9ff45b23f89fb48e07a21253a28d5903">m_data_avail</a>; 
<a name="l00220"></a><a class="code" href="classdram__controller__c.html#ab0c72ef77bc137b1ed16a060dd622c84">00220</a>     Counter* <a class="code" href="classdram__controller__c.html#ab0c72ef77bc137b1ed16a060dd622c84">m_bank_timestamp</a>; 
<a name="l00221"></a><a class="code" href="classdram__controller__c.html#a88d2351690ac79425da4af48c28a55bd">00221</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a88d2351690ac79425da4af48c28a55bd">m_bus_width</a>; 
<a name="l00222"></a><a class="code" href="classdram__controller__c.html#add7d44dbb73dedd43c51a97ee1d0c17d">00222</a>     <span class="keywordtype">int</span>* <a class="code" href="classdram__controller__c.html#add7d44dbb73dedd43c51a97ee1d0c17d">m_byte_avail</a>;  
<a name="l00223"></a><a class="code" href="classdram__controller__c.html#aeff0032fc196b65007b89d00499c2bd1">00223</a>     Counter* <a class="code" href="classdram__controller__c.html#aeff0032fc196b65007b89d00499c2bd1">m_dbus_ready</a>; 
<a name="l00224"></a><a class="code" href="classdram__controller__c.html#a98fd7fb6cf778ca6bba63a861b551bda">00224</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a98fd7fb6cf778ca6bba63a861b551bda">m_num_bank</a>; 
<a name="l00225"></a><a class="code" href="classdram__controller__c.html#a9a20ac3f7fa0c171702fc265f0ccc9bc">00225</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a9a20ac3f7fa0c171702fc265f0ccc9bc">m_num_channel</a>; 
<a name="l00226"></a><a class="code" href="classdram__controller__c.html#ac3907c9a15aa3131c9aee34313a28e37">00226</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#ac3907c9a15aa3131c9aee34313a28e37">m_num_bank_per_channel</a>;  
<a name="l00227"></a><a class="code" href="classdram__controller__c.html#ae55d96ec26968a1343ac0de05bd6485d">00227</a>     uns <a class="code" href="classdram__controller__c.html#ae55d96ec26968a1343ac0de05bd6485d">m_cid_mask</a>; 
<a name="l00228"></a><a class="code" href="classdram__controller__c.html#a433a0c33c4b2075c99ac4f7d489ec66b">00228</a>     uns <a class="code" href="classdram__controller__c.html#a433a0c33c4b2075c99ac4f7d489ec66b">m_bid_mask</a>; 
<a name="l00229"></a><a class="code" href="classdram__controller__c.html#ab181fe193cffbadab11d1c2252f071d9">00229</a>     uns <a class="code" href="classdram__controller__c.html#ab181fe193cffbadab11d1c2252f071d9">m_bid_shift</a>; 
<a name="l00230"></a><a class="code" href="classdram__controller__c.html#a47129cd3d0467da1d6e53c928226858e">00230</a>     uns <a class="code" href="classdram__controller__c.html#a47129cd3d0467da1d6e53c928226858e">m_rid_shift</a>; 
<a name="l00231"></a><a class="code" href="classdram__controller__c.html#aa31c9a4e62e699e26dab2bc03487f71e">00231</a>     uns <a class="code" href="classdram__controller__c.html#aa31c9a4e62e699e26dab2bc03487f71e">m_bid_xor_shift</a>; 
<a name="l00232"></a><a class="code" href="classdram__controller__c.html#af929273981621d260089ba6187e73b38">00232</a>     <span class="keywordtype">float</span> <a class="code" href="classdram__controller__c.html#af929273981621d260089ba6187e73b38">m_dram_one_cycle_cpu</a>; 
<a name="l00233"></a><a class="code" href="classdram__controller__c.html#abb28f2d1c7793e514a005a7bc15589d9">00233</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#abb28f2d1c7793e514a005a7bc15589d9">m_activate_latency_cpu</a>; 
<a name="l00234"></a><a class="code" href="classdram__controller__c.html#aef712e15ee703272a9381b82cd487bcb">00234</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#aef712e15ee703272a9381b82cd487bcb">m_precharge_latency_cpu</a>; 
<a name="l00235"></a><a class="code" href="classdram__controller__c.html#a5f58c9560276617cab02c610b01b2cb1">00235</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a5f58c9560276617cab02c610b01b2cb1">m_column_latency_cpu</a>; 
<a name="l00236"></a><a class="code" href="classdram__controller__c.html#a33c4f9781f46ee69715f6ab54b4eec46">00236</a>     <span class="keywordtype">float</span> <a class="code" href="classdram__controller__c.html#a33c4f9781f46ee69715f6ab54b4eec46">m_dram_one_cycle_gpu</a>; 
<a name="l00237"></a><a class="code" href="classdram__controller__c.html#a835ddca91edbc43e049d625eff2207f8">00237</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a835ddca91edbc43e049d625eff2207f8">m_activate_latency_gpu</a>; 
<a name="l00238"></a><a class="code" href="classdram__controller__c.html#aa61d120e34408419e0962dafb2681402">00238</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#aa61d120e34408419e0962dafb2681402">m_precharge_latency_gpu</a>; 
<a name="l00239"></a><a class="code" href="classdram__controller__c.html#a6b725908a9e2d0f284780dfa345d6160">00239</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a6b725908a9e2d0f284780dfa345d6160">m_column_latency_gpu</a>; 
<a name="l00240"></a><a class="code" href="classdram__controller__c.html#a7b3d7fc2ce0d87fa1ff76b4a6ba607a1">00240</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a7b3d7fc2ce0d87fa1ff76b4a6ba607a1">m_id</a>; 
<a name="l00241"></a><a class="code" href="classdram__controller__c.html#a86f6215cf918c0a83ca2180b8dcea67c">00241</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a86f6215cf918c0a83ca2180b8dcea67c">m_noc_id</a>; 
<a name="l00242"></a><a class="code" href="classdram__controller__c.html#aaf23b00bc5d6622200397b680a4a7e76">00242</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#aaf23b00bc5d6622200397b680a4a7e76">m_num_completed_in_last_cycle</a>; 
<a name="l00243"></a><a class="code" href="classdram__controller__c.html#a7fc3aa259f15cd2f9cc87753d458f166">00243</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a7fc3aa259f15cd2f9cc87753d458f166">m_starvation_cycle</a>; 
<a name="l00244"></a><a class="code" href="classdram__controller__c.html#a5b6f52c05df415ba22de7b0eab87acb0">00244</a>     <span class="keywordtype">int</span> <a class="code" href="classdram__controller__c.html#a5b6f52c05df415ba22de7b0eab87acb0">m_total_req</a>; 
<a name="l00246"></a><a class="code" href="classdram__controller__c.html#a572404de89967a3b7294080ff7390110">00246</a>     ManifoldProcessor* <a class="code" href="classdram__controller__c.html#a572404de89967a3b7294080ff7390110">m_terminal</a>; 
<a name="l00247"></a>00247     <a class="code" href="classrouter__c.html">router_c</a>* m_router;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     Counter m_avg_latency;
<a name="l00250"></a>00250     Counter m_avg_latency_base;
<a name="l00251"></a>00251     <span class="keywordtype">int</span> m_prev_avg_latency;
<a name="l00252"></a>00252     <span class="keywordtype">int</span> m_prev_stable_avg_latency;
<a name="l00253"></a>00253     
<a name="l00254"></a>00254     Counter m_band;
<a name="l00255"></a>00255     Counter m_band_base;
<a name="l00256"></a>00256     <span class="keywordtype">int</span> m_prev_band;
<a name="l00257"></a>00257     <span class="keywordtype">int</span> m_prev_stable_band;
<a name="l00258"></a>00258     <span class="keywordtype">int</span> m_avg_band;
<a name="l00259"></a>00259     <span class="keywordtype">int</span> m_stable_counter;
<a name="l00260"></a>00260     
<a name="l00261"></a>00261     <span class="keywordtype">int</span> m_dram_state;
<a name="l00262"></a>00262     ofstream temp_out;
<a name="l00263"></a>00263 
<a name="l00264"></a><a class="code" href="classdram__controller__c.html#ae96442e89de273175e8d2ee453a2c688">00264</a>     <a class="code" href="classmacsim__c.html">macsim_c</a>* <a class="code" href="classdram__controller__c.html#ae96442e89de273175e8d2ee453a2c688">m_simBase</a>;         
<a name="l00265"></a>00265 };
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 
<a name="l00271"></a><a class="code" href="classdc__frfcfs__c.html">00271</a> <span class="keyword">class </span><a class="code" href="classdc__frfcfs__c.html" title="FR-FCFS dram scheduling.">dc_frfcfs_c</a> : <span class="keyword">public</span> <a class="code" href="classdram__controller__c.html" title="Base dram scheduling class (FCFS).">dram_controller_c</a>
<a name="l00272"></a>00272 {
<a name="l00276"></a><a class="code" href="classdc__frfcfs__c_1_1sort__func.html">00276</a>   <span class="keyword">class </span><a class="code" href="classdc__frfcfs__c_1_1sort__func.html" title="dc_frfcfs_c sort function">sort_func</a> {
<a name="l00277"></a>00277     <span class="keyword">public</span>:
<a name="l00282"></a>00282       <a class="code" href="classdc__frfcfs__c_1_1sort__func.html#ae53cd4badf2bd14eb681218eef254563">sort_func</a>(<a class="code" href="classdc__frfcfs__c.html" title="FR-FCFS dram scheduling.">dc_frfcfs_c</a> *);
<a name="l00286"></a>00286       <span class="keywordtype">bool</span> <a class="code" href="classdc__frfcfs__c_1_1sort__func.html#a0c74bcc543a5fbc1089e66a7f1d3fa3b">operator() </a>(<span class="keyword">const</span> <a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a>* req_a, <span class="keyword">const</span> <a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a>* req_b);
<a name="l00287"></a>00287 
<a name="l00288"></a><a class="code" href="classdc__frfcfs__c_1_1sort__func.html#a6b4dc22f69306bcf7ce81d68378d6a9d">00288</a>       <a class="code" href="classdc__frfcfs__c.html" title="FR-FCFS dram scheduling.">dc_frfcfs_c</a>* <a class="code" href="classdc__frfcfs__c_1_1sort__func.html#a6b4dc22f69306bcf7ce81d68378d6a9d">m_parent</a>; 
<a name="l00289"></a>00289   };
<a name="l00290"></a>00290 
<a name="l00291"></a>00291   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classdc__frfcfs__c_1_1sort__func.html" title="dc_frfcfs_c sort function">sort_func</a>;
<a name="l00292"></a>00292 
<a name="l00293"></a>00293   <span class="keyword">public</span>:
<a name="l00297"></a>00297     <a class="code" href="classdc__frfcfs__c.html#ae20cabf0dd64d9d9bac5f5867e73e782">dc_frfcfs_c</a>(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l00298"></a>00298 
<a name="l00302"></a>00302     <a class="code" href="classdc__frfcfs__c.html#a073941102a81c46c76a92b6ecdedc6bd">~dc_frfcfs_c</a>();
<a name="l00303"></a>00303 
<a name="l00308"></a>00308     <a class="code" href="structdrb__entry__s.html" title="dram request entry class">drb_entry_s</a>* <a class="code" href="classdc__frfcfs__c.html#a4ee4def84ca42d169c13aec01590eeb8">schedule</a>(list&lt;drb_entry_s*&gt; *drb_list);
<a name="l00309"></a>00309 
<a name="l00310"></a>00310   <span class="keyword">private</span>:
<a name="l00311"></a><a class="code" href="classdc__frfcfs__c.html#aea33c4e4bd8214a2331abbbd5a9d59c9">00311</a>     <span class="keyword">class </span><a class="code" href="classdc__frfcfs__c_1_1sort__func.html" title="dc_frfcfs_c sort function">sort_func</a>* <a class="code" href="classdc__frfcfs__c.html#aea33c4e4bd8214a2331abbbd5a9d59c9">m_sort</a>; 
<a name="l00312"></a>00312 };
<a name="l00313"></a>00313 
<a name="l00314"></a>00314 
<a name="l00315"></a>00315 <a class="code" href="classdram__controller__c.html" title="Base dram scheduling class (FCFS).">dram_controller_c</a>* fcfs_controller(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l00316"></a>00316 <a class="code" href="classdram__controller__c.html" title="Base dram scheduling class (FCFS).">dram_controller_c</a>* frfcfs_controller(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l00317"></a>00317 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Dec 7 2011 23:21:52 for MacSim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
