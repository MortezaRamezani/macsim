<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MacSim: process_manager.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>process_manager.h</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**********************************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> * File         : process_manager.h</span>
<a name="l00003"></a>00003 <span class="comment"> * Author       : Jaekyu Lee</span>
<a name="l00004"></a>00004 <span class="comment"> * Date         : 1-6-2011</span>
<a name="l00005"></a>00005 <span class="comment"> * SVN          : $Id: pref_stride.h,v 1.1 2008/07/30 14:18:16 kacear Exp $:</span>
<a name="l00006"></a>00006 <span class="comment"> * Description  : process manager (creation, termination, scheduling, ...)</span>
<a name="l00007"></a>00007 <span class="comment"> *                combine sim_process and sim_thread_schedule</span>
<a name="l00008"></a>00008 <span class="comment"> *********************************************************************************************/</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#ifndef PROCESS_MANAGER_H</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define PROCESS_MANAGER_H</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;inttypes.h&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;zlib.h&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;unordered_map&gt;</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;global_defs.h&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;global_types.h&quot;</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00030"></a>00030 <span class="keyword">enum</span> Section_Type_enum
<a name="l00031"></a>00031 {
<a name="l00032"></a>00032   SECTION_INVALID = 0,
<a name="l00033"></a>00033   SECTION_COMP,                 
<a name="l00034"></a>00034   SECTION_MEM,                  
<a name="l00035"></a>00035   SECTION_BAR                   
<a name="l00036"></a>00036 };
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 
<a name="l00045"></a><a class="code" href="structthread__trace__info__node__s.html">00045</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structthread__trace__info__node__s.html" title="Thread trace information node.">thread_trace_info_node_s</a> {
<a name="l00046"></a><a class="code" href="structthread__trace__info__node__s.html#ae603dda796c0cccf7f79d1ce5b9ce874">00046</a>   <a class="code" href="structthread__s.html" title="Thread data structure.">thread_s</a>*  <a class="code" href="structthread__trace__info__node__s.html#ae603dda796c0cccf7f79d1ce5b9ce874">m_trace_info_ptr</a>;  
<a name="l00047"></a><a class="code" href="structthread__trace__info__node__s.html#a1b4fbce5655a7094c48f8dd7be4f9dd4">00047</a>   <a class="code" href="structprocess__s.html" title="Process data structure.">process_s</a>* <a class="code" href="structthread__trace__info__node__s.html#a1b4fbce5655a7094c48f8dd7be4f9dd4">m_process</a>;         
<a name="l00048"></a><a class="code" href="structthread__trace__info__node__s.html#a52c5e7d8ed10fc7c54cdabcc15702cac">00048</a>   <span class="keywordtype">int</span>        <a class="code" href="structthread__trace__info__node__s.html#a52c5e7d8ed10fc7c54cdabcc15702cac">m_tid</a>;             
<a name="l00049"></a><a class="code" href="structthread__trace__info__node__s.html#a241862d3ffe48c4ab7c85456244cf7dc">00049</a>   <span class="keywordtype">bool</span>       <a class="code" href="structthread__trace__info__node__s.html#a241862d3ffe48c4ab7c85456244cf7dc">m_main</a>;            
<a name="l00050"></a><a class="code" href="structthread__trace__info__node__s.html#a0355328ae8596c5029df7ac4a2c0eca7">00050</a>   <span class="keywordtype">bool</span>       <a class="code" href="structthread__trace__info__node__s.html#a0355328ae8596c5029df7ac4a2c0eca7">m_ptx</a>;             
<a name="l00051"></a><a class="code" href="structthread__trace__info__node__s.html#a8502fed3f5ce2865bf0b517bdbd5ef79">00051</a>   <span class="keywordtype">int</span>        <a class="code" href="structthread__trace__info__node__s.html#a8502fed3f5ce2865bf0b517bdbd5ef79">m_block_id</a>;        
<a name="l00052"></a>00052 } <a class="code" href="structthread__trace__info__node__s.html" title="Thread trace information node.">thread_trace_info_node_s</a>;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 
<a name="l00060"></a><a class="code" href="structblock__schedule__info__s.html">00060</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structblock__schedule__info__s.html" title="Thread block schedule information.">block_schedule_info_s</a> {
<a name="l00064"></a>00064   <a class="code" href="structblock__schedule__info__s.html#ab78755e6bd30e94bff285a74b71586df">block_schedule_info_s</a>();
<a name="l00065"></a>00065 
<a name="l00069"></a>00069   <a class="code" href="structblock__schedule__info__s.html#abda47e67bfa8f7a031dd8c6fda52d887">~block_schedule_info_s</a>();
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="structblock__schedule__info__s.html#a2a94ce096712373fc57cde8da942cb28">00071</a>   <span class="keywordtype">bool</span>    <a class="code" href="structblock__schedule__info__s.html#a2a94ce096712373fc57cde8da942cb28">m_start_to_fetch</a>;     
<a name="l00072"></a><a class="code" href="structblock__schedule__info__s.html#af9ed930b90d0ca42f0311528a8186f39">00072</a>   <span class="keywordtype">int</span>     <a class="code" href="structblock__schedule__info__s.html#af9ed930b90d0ca42f0311528a8186f39">m_dispatched_core_id</a>; 
<a name="l00073"></a><a class="code" href="structblock__schedule__info__s.html#a639fb673552f73fd90dccb4ae6c5ea1c">00073</a>   <span class="keywordtype">bool</span>    <a class="code" href="structblock__schedule__info__s.html#a639fb673552f73fd90dccb4ae6c5ea1c">m_retired</a>;            
<a name="l00074"></a><a class="code" href="structblock__schedule__info__s.html#af3b66bd84d411c90fe2683bf77394683">00074</a>   <span class="keywordtype">int</span>     <a class="code" href="structblock__schedule__info__s.html#af3b66bd84d411c90fe2683bf77394683">m_dispatched_thread_num</a>; 
<a name="l00075"></a><a class="code" href="structblock__schedule__info__s.html#a7194b000c4d81d80610eeec597e90e1f">00075</a>   <span class="keywordtype">int</span>     <a class="code" href="structblock__schedule__info__s.html#a7194b000c4d81d80610eeec597e90e1f">m_retired_thread_num</a>; 
<a name="l00076"></a><a class="code" href="structblock__schedule__info__s.html#abbc67ac8b7a9a0bdc964d6b9a5a4c8d0">00076</a>   <span class="keywordtype">int</span>     <a class="code" href="structblock__schedule__info__s.html#abbc67ac8b7a9a0bdc964d6b9a5a4c8d0">m_total_thread_num</a>;   
<a name="l00077"></a><a class="code" href="structblock__schedule__info__s.html#a78744ab215866834ea3fd99a78e6758f">00077</a>   <span class="keywordtype">int</span>     <a class="code" href="structblock__schedule__info__s.html#a78744ab215866834ea3fd99a78e6758f">m_dispatch_done</a>;      
<a name="l00078"></a><a class="code" href="structblock__schedule__info__s.html#a82e2fd882d6e6269a567e2d421bf0f27">00078</a>   <span class="keywordtype">bool</span>    <a class="code" href="structblock__schedule__info__s.html#a82e2fd882d6e6269a567e2d421bf0f27">m_trace_exist</a>;        
<a name="l00079"></a><a class="code" href="structblock__schedule__info__s.html#ad967529ea12c192c606882f5e129ed0a">00079</a>   Counter <a class="code" href="structblock__schedule__info__s.html#ad967529ea12c192c606882f5e129ed0a">m_sched_cycle</a>;        
<a name="l00080"></a><a class="code" href="structblock__schedule__info__s.html#ac2d0055e1b2764b0c54c92ee51094e8e">00080</a>   Counter <a class="code" href="structblock__schedule__info__s.html#ac2d0055e1b2764b0c54c92ee51094e8e">m_retire_cycle</a>;       
<a name="l00081"></a>00081 } <a class="code" href="structblock__schedule__info__s.html" title="Thread block schedule information.">block_schedule_info_s</a>; 
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 
<a name="l00090"></a><a class="code" href="structsection__info__s.html">00090</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structsection__info__s.html" title="Section information.">section_info_s</a> {
<a name="l00091"></a><a class="code" href="structsection__info__s.html#a8a3c90037442b973b1fbfd11893af7f8">00091</a>   Section_Type_enum <a class="code" href="structsection__info__s.html#a8a3c90037442b973b1fbfd11893af7f8">m_section_type</a>; 
<a name="l00092"></a><a class="code" href="structsection__info__s.html#a9338972d43c2662c79d169671a6c72b2">00092</a>   int32_t           <a class="code" href="structsection__info__s.html#a9338972d43c2662c79d169671a6c72b2">m_section_length</a>; 
<a name="l00093"></a>00093 } <a class="code" href="structsection__info__s.html" title="Section information.">section_info_s</a>;
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 
<a name="l00107"></a><a class="code" href="structthread__start__info__s.html">00107</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structthread__start__info__s.html" title="Thread start information.">thread_start_info_s</a> {   
<a name="l00108"></a><a class="code" href="structthread__start__info__s.html#a957332c460e5f4b4199921a6d1cb99da">00108</a>   uint32_t <a class="code" href="structthread__start__info__s.html#a957332c460e5f4b4199921a6d1cb99da">m_thread_id</a>; 
<a name="l00109"></a><a class="code" href="structthread__start__info__s.html#ab1635b429a81daf00cf5272114b94a1b">00109</a>   uint64_t <a class="code" href="structthread__start__info__s.html#ab1635b429a81daf00cf5272114b94a1b">m_inst_count</a>; 
<a name="l00111"></a>00111 } <a class="code" href="structthread__start__info__s.html" title="Thread start information.">thread_start_info_s</a>;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 
<a name="l00120"></a><a class="code" href="structthread__stat__s.html">00120</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structthread__stat__s.html" title="Thread statistics class.">thread_stat_s</a>
<a name="l00121"></a>00121 {
<a name="l00125"></a>00125   <a class="code" href="structthread__stat__s.html#a720c46384903b933a5bbd988e463f2c9">thread_stat_s</a>();
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="structthread__stat__s.html#a73159fa4a36b03ae2affe98e351a3c14">00127</a>  int32 <a class="code" href="structthread__stat__s.html#a73159fa4a36b03ae2affe98e351a3c14">m_thread_id</a>;             
<a name="l00128"></a><a class="code" href="structthread__stat__s.html#a9422613d9040a649e0dbc709222194cc">00128</a>  int32 <a class="code" href="structthread__stat__s.html#a9422613d9040a649e0dbc709222194cc">m_unique_thread_id</a>;      
<a name="l00129"></a><a class="code" href="structthread__stat__s.html#aeed9fab1f2482c5e5c8596701fe9ad59">00129</a>  int32 <a class="code" href="structthread__stat__s.html#aeed9fab1f2482c5e5c8596701fe9ad59">m_block_id</a>;              
<a name="l00130"></a><a class="code" href="structthread__stat__s.html#ae566a7e5f2c647c9fcae9d6699f4263d">00130</a>  uns64 <a class="code" href="structthread__stat__s.html#ae566a7e5f2c647c9fcae9d6699f4263d">m_thread_sched_cycle</a>;    
<a name="l00131"></a><a class="code" href="structthread__stat__s.html#abb0486417fb29d4f3bd94afd3d26cd44">00131</a>  uns64 <a class="code" href="structthread__stat__s.html#abb0486417fb29d4f3bd94afd3d26cd44">m_thread_fetch_cycle</a>;    
<a name="l00132"></a><a class="code" href="structthread__stat__s.html#afce91d61a581f23a661f057cf0e535a6">00132</a>  uns64 <a class="code" href="structthread__stat__s.html#afce91d61a581f23a661f057cf0e535a6">m_thread_end_cycle</a>;      
<a name="l00133"></a>00133 } <a class="code" href="structthread__stat__s.html" title="Thread statistics class.">thread_stat_s</a>;
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 
<a name="l00147"></a><a class="code" href="structthread__s.html">00147</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structthread__s.html" title="Thread data structure.">thread_s</a> {
<a name="l00151"></a>00151   <a class="code" href="structthread__s.html#a7e7a0ede1b4c78944c41901c5a031950">thread_s</a>(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l00152"></a>00152 
<a name="l00156"></a>00156   <a class="code" href="structthread__s.html#af18191118de9e24ba2242266614d713c">~thread_s</a>();
<a name="l00157"></a>00157 
<a name="l00158"></a><a class="code" href="structthread__s.html#a3fabe97150e2faf6bcdc10e50d6aceee">00158</a>   <span class="keywordtype">int</span>                  <a class="code" href="structthread__s.html#a3fabe97150e2faf6bcdc10e50d6aceee">m_unique_thread_id</a>; 
<a name="l00159"></a><a class="code" href="structthread__s.html#a04bae5c54623a9040e2c8bb136d27470">00159</a>   <span class="keywordtype">int</span>                  <a class="code" href="structthread__s.html#a04bae5c54623a9040e2c8bb136d27470">m_thread_id</a>; 
<a name="l00160"></a><a class="code" href="structthread__s.html#af58128f3c139ab946d96c1b453c0708a">00160</a>   <span class="keywordtype">int</span>                  <a class="code" href="structthread__s.html#af58128f3c139ab946d96c1b453c0708a">m_orig_block_id</a>; 
<a name="l00161"></a><a class="code" href="structthread__s.html#a7557fcd4c6c92363d3345c65dc3a4603">00161</a>   <span class="keywordtype">int</span>                  <a class="code" href="structthread__s.html#a7557fcd4c6c92363d3345c65dc3a4603">m_orig_thread_id</a>; 
<a name="l00162"></a><a class="code" href="structthread__s.html#ab3c9083e089fff4f6b97d39ed0ba4b51">00162</a>   <span class="keywordtype">int</span>                  <a class="code" href="structthread__s.html#ab3c9083e089fff4f6b97d39ed0ba4b51">m_block_id</a>; 
<a name="l00163"></a><a class="code" href="structthread__s.html#a96bd9cfd9a5e605f4eee72f92ca9f513">00163</a>   gzFile               <a class="code" href="structthread__s.html#a96bd9cfd9a5e605f4eee72f92ca9f513">m_trace_file</a>; 
<a name="l00164"></a><a class="code" href="structthread__s.html#a0cf104a3dce7ddb37a48cf8b713b4ac2">00164</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structthread__s.html#a0cf104a3dce7ddb37a48cf8b713b4ac2">m_file_opened</a>; 
<a name="l00165"></a><a class="code" href="structthread__s.html#a01a8c95c8e26b8ac986370337d4e15b3">00165</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structthread__s.html#a01a8c95c8e26b8ac986370337d4e15b3">m_main_thread</a>; 
<a name="l00166"></a><a class="code" href="structthread__s.html#ac29afed70ffd879732e441851c08380f">00166</a>   uint64_t             <a class="code" href="structthread__s.html#ac29afed70ffd879732e441851c08380f">m_inst_count</a>; 
<a name="l00167"></a><a class="code" href="structthread__s.html#ab3eae22c15000ab6e61395cb0c56fa20">00167</a>   uint64_t             <a class="code" href="structthread__s.html#ab3eae22c15000ab6e61395cb0c56fa20">m_uop_count</a>;  
<a name="l00168"></a><a class="code" href="structthread__s.html#a02fca6a746d6446fce1b5f2c8adf9366">00168</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structthread__s.html#a02fca6a746d6446fce1b5f2c8adf9366">m_trace_ended</a>; 
<a name="l00169"></a><a class="code" href="structthread__s.html#ab3d94c455b77f0cc2f14151f8574c153">00169</a>   <a class="code" href="structprocess__s.html" title="Process data structure.">process_s</a>           *<a class="code" href="structthread__s.html#ab3d94c455b77f0cc2f14151f8574c153">m_process</a>; 
<a name="l00170"></a><a class="code" href="structthread__s.html#a12ca032501e4c819e864f4118781aa66">00170</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structthread__s.html#a12ca032501e4c819e864f4118781aa66">m_ptx</a>; 
<a name="l00171"></a><a class="code" href="structthread__s.html#a454df2fcda350ce8d6fde3ad01dddfcf">00171</a>   <span class="keywordtype">char</span>*                <a class="code" href="structthread__s.html#a454df2fcda350ce8d6fde3ad01dddfcf">m_buffer</a>; 
<a name="l00172"></a><a class="code" href="structthread__s.html#a9aebcb5639f20227246a12fbfd1dbcc9">00172</a>   <span class="keywordtype">int</span>                  <a class="code" href="structthread__s.html#a9aebcb5639f20227246a12fbfd1dbcc9">m_buffer_index</a>; 
<a name="l00173"></a><a class="code" href="structthread__s.html#a556880e1e2a0ae1fdb174a41bd94bc10">00173</a>   <span class="keywordtype">int</span>                  <a class="code" href="structthread__s.html#a556880e1e2a0ae1fdb174a41bd94bc10">m_buffer_index_max</a>; 
<a name="l00174"></a><a class="code" href="structthread__s.html#ac6b1743df3ea0beb279fcccf9a2833df">00174</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structthread__s.html#ac6b1743df3ea0beb279fcccf9a2833df">m_buffer_exhausted</a>; 
<a name="l00175"></a><a class="code" href="structthread__s.html#abf181f7d6a5596629a4237ab78b68497">00175</a>   <a class="code" href="structfrontend__s.html" title="fetch data structure">frontend_s</a>*          <a class="code" href="structthread__s.html#abf181f7d6a5596629a4237ab78b68497">m_fetch_data</a>; 
<a name="l00176"></a><a class="code" href="structthread__s.html#a978fea511dd7c2d9076e06d81a675b9f">00176</a>   <a class="code" href="structtrace__info__s.html" title="Trace information structure.">trace_info_s</a>*        <a class="code" href="structthread__s.html#a978fea511dd7c2d9076e06d81a675b9f">m_prev_trace_info</a>; 
<a name="l00177"></a><a class="code" href="structthread__s.html#a484d73110277c89a874cb1c681c916fc">00177</a>   <a class="code" href="structtrace__info__s.html" title="Trace information structure.">trace_info_s</a>*        <a class="code" href="structthread__s.html#a484d73110277c89a874cb1c681c916fc">m_next_trace_info</a>; 
<a name="l00178"></a><a class="code" href="structthread__s.html#afc7f4beee3959a7a0e9a783f01094902">00178</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structthread__s.html#afc7f4beee3959a7a0e9a783f01094902">m_thread_init</a>; 
<a name="l00179"></a><a class="code" href="structthread__s.html#ac7cf96053872c92c7f1b0b2488969ab7">00179</a>   uint64_t             <a class="code" href="structthread__s.html#ac7cf96053872c92c7f1b0b2488969ab7">m_temp_inst_count</a>; 
<a name="l00180"></a><a class="code" href="structthread__s.html#aec816b397664eb8afeedab515c5afe8d">00180</a>   uint64_t             <a class="code" href="structthread__s.html#aec816b397664eb8afeedab515c5afe8d">m_temp_uop_count</a>; 
<a name="l00181"></a><a class="code" href="structthread__s.html#a7d27d154f05ae450db08ae51e576d2fd">00181</a>   <span class="keywordtype">int</span>                  <a class="code" href="structthread__s.html#a7d27d154f05ae450db08ae51e576d2fd">m_num_sending_uop</a>; 
<a name="l00182"></a><a class="code" href="structthread__s.html#afae2ee7a8bd0adf9a6c544eed103c440">00182</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structthread__s.html#afae2ee7a8bd0adf9a6c544eed103c440">m_bom</a>; 
<a name="l00183"></a><a class="code" href="structthread__s.html#a771e92a9ef2ecc972ccc647f3d2d4f3d">00183</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structthread__s.html#a771e92a9ef2ecc972ccc647f3d2d4f3d">m_eom</a>; 
<a name="l00184"></a><a class="code" href="structthread__s.html#a3a1828ec963fd0cba7c0ea8fd96699eb">00184</a>   <a class="code" href="structtrace__uop__s.html" title="structure to hold decoded uop information">trace_uop_s</a>*         <a class="code" href="structthread__s.html#a3a1828ec963fd0cba7c0ea8fd96699eb">m_trace_uop_array</a>[MAX_PUP]; 
<a name="l00185"></a><a class="code" href="structthread__s.html#acb1122a59e5a61681b95987404c52789">00185</a>   <a class="code" href="structtrace__uop__s.html" title="structure to hold decoded uop information">trace_uop_s</a>*         <a class="code" href="structthread__s.html#acb1122a59e5a61681b95987404c52789">m_next_trace_uop_array</a>[MAX_PUP]; 
<a name="l00187"></a><a class="code" href="structthread__s.html#a95470a3e9e20649f4228016776325938">00187</a>   <a class="code" href="classmacsim__c.html">macsim_c</a>* <a class="code" href="structthread__s.html#a95470a3e9e20649f4228016776325938">m_simBase</a>;         
<a name="l00189"></a>00189   <span class="comment">// synchronization information</span>
<a name="l00190"></a><a class="code" href="structthread__s.html#acbb56db74b9ba52acb14437d6f9e0231">00190</a>   list&lt;section_info_s*&gt; <a class="code" href="structthread__s.html#acbb56db74b9ba52acb14437d6f9e0231">m_sections</a>; 
<a name="l00191"></a><a class="code" href="structthread__s.html#a854a6eb1c6bb1aacfdf3c24cf9b1a037">00191</a>   list&lt;section_info_s*&gt; <a class="code" href="structthread__s.html#a854a6eb1c6bb1aacfdf3c24cf9b1a037">m_bar_sections</a>; 
<a name="l00192"></a><a class="code" href="structthread__s.html#a34206b2835435191b813c943cf4d6c1b">00192</a>   list&lt;section_info_s*&gt; <a class="code" href="structthread__s.html#a34206b2835435191b813c943cf4d6c1b">m_mem_sections</a>; 
<a name="l00193"></a><a class="code" href="structthread__s.html#ac0e1546f48c08ecb93fcebbb2ea53d35">00193</a>   list&lt;section_info_s*&gt; <a class="code" href="structthread__s.html#ac0e1546f48c08ecb93fcebbb2ea53d35">m_mem_bar_sections</a>; 
<a name="l00194"></a><a class="code" href="structthread__s.html#a9bf8a0cc4da3251e3fb81372f28b7426">00194</a>   list&lt;section_info_s*&gt; <a class="code" href="structthread__s.html#a9bf8a0cc4da3251e3fb81372f28b7426">m_mem_for_bar_sections</a>; 
<a name="l00195"></a>00195 } <a class="code" href="structthread__s.html" title="Thread data structure.">thread_s</a>;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 
<a name="l00204"></a><a class="code" href="structprocess__s.html">00204</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structprocess__s.html" title="Process data structure.">process_s</a> {
<a name="l00208"></a>00208   <a class="code" href="structprocess__s.html#a837742357aae46f13f2961950397dd76">process_s</a>();
<a name="l00209"></a>00209 
<a name="l00213"></a>00213   <a class="code" href="structprocess__s.html#ab0b2900fe44e2e0f3fe45017b26c8ff0">~process_s</a>();
<a name="l00214"></a>00214 
<a name="l00215"></a><a class="code" href="structprocess__s.html#a177fa7999a4380f87de1d1020972d0d8">00215</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>         <a class="code" href="structprocess__s.html#a177fa7999a4380f87de1d1020972d0d8">m_process_id</a>; 
<a name="l00216"></a><a class="code" href="structprocess__s.html#af321df6fbc03573f3b665b27b857446e">00216</a>   <span class="keywordtype">int</span>                  <a class="code" href="structprocess__s.html#af321df6fbc03573f3b665b27b857446e">m_orig_pid</a>; 
<a name="l00217"></a><a class="code" href="structprocess__s.html#a57fa57ad2c2538de96d40d2908837331">00217</a>   <span class="keywordtype">int</span>                  <a class="code" href="structprocess__s.html#a57fa57ad2c2538de96d40d2908837331">m_max_block</a>; 
<a name="l00218"></a><a class="code" href="structprocess__s.html#a948322a5587615947b1080e04f2c76b8">00218</a>   <a class="code" href="structthread__start__info__s.html" title="Thread start information.">thread_start_info_s</a> *<a class="code" href="structprocess__s.html#a948322a5587615947b1080e04f2c76b8">m_thread_start_info</a>; 
<a name="l00219"></a><a class="code" href="structprocess__s.html#ad7a7f06130499ec66febeab3aa686d5b">00219</a>   <a class="code" href="structthread__s.html" title="Thread data structure.">thread_s</a>**           <a class="code" href="structprocess__s.html#ad7a7f06130499ec66febeab3aa686d5b">m_thread_trace_info</a>; 
<a name="l00220"></a><a class="code" href="structprocess__s.html#a0da37eb04b86d5257061ad58c55df5fe">00220</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>         <a class="code" href="structprocess__s.html#a0da37eb04b86d5257061ad58c55df5fe">m_no_of_threads</a>; 
<a name="l00221"></a><a class="code" href="structprocess__s.html#a56d830c06a9f3a2b1569c9d1894ab6e2">00221</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>         <a class="code" href="structprocess__s.html#a56d830c06a9f3a2b1569c9d1894ab6e2">m_no_of_threads_created</a>; 
<a name="l00222"></a><a class="code" href="structprocess__s.html#a0debe2b803da90b86dcbd113fa79c5e4">00222</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>         <a class="code" href="structprocess__s.html#a0debe2b803da90b86dcbd113fa79c5e4">m_no_of_threads_terminated</a>; 
<a name="l00223"></a><a class="code" href="structprocess__s.html#a407d38bd942dd27e620147ac8af9a0a4">00223</a>   map&lt;int, bool&gt;       <a class="code" href="structprocess__s.html#a407d38bd942dd27e620147ac8af9a0a4">m_core_list</a>; 
<a name="l00224"></a><a class="code" href="structprocess__s.html#a12b9ed9259a013ff8126089193c93dc2">00224</a>   queue&lt;int&gt;          *<a class="code" href="structprocess__s.html#a12b9ed9259a013ff8126089193c93dc2">m_core_pool</a>; 
<a name="l00225"></a><a class="code" href="structprocess__s.html#a4578e18b431979d88d1782a080c0b4ce">00225</a>   <span class="keywordtype">bool</span>                 <a class="code" href="structprocess__s.html#a4578e18b431979d88d1782a080c0b4ce">m_ptx</a>; 
<a name="l00226"></a><a class="code" href="structprocess__s.html#a7f5a5304526964f084a24b68b0132d7a">00226</a>   <span class="keywordtype">int</span>                  <a class="code" href="structprocess__s.html#a7f5a5304526964f084a24b68b0132d7a">m_repeat</a>; 
<a name="l00227"></a><a class="code" href="structprocess__s.html#a3f8f9f073f0fc6dfe9c26078a125613c">00227</a>   vector&lt;string&gt;       <a class="code" href="structprocess__s.html#a3f8f9f073f0fc6dfe9c26078a125613c">m_applications</a>; 
<a name="l00228"></a><a class="code" href="structprocess__s.html#ae9086b0940b39f7769ee8c2e9b8dadf9">00228</a>   vector&lt;int&gt;          <a class="code" href="structprocess__s.html#ae9086b0940b39f7769ee8c2e9b8dadf9">m_kernel_block_start_count</a>; 
<a name="l00229"></a><a class="code" href="structprocess__s.html#a5bc754a24b94de3a4b1613290905d249">00229</a>   <span class="keywordtype">string</span>               <a class="code" href="structprocess__s.html#a5bc754a24b94de3a4b1613290905d249">m_current_file_name_base</a>; 
<a name="l00230"></a><a class="code" href="structprocess__s.html#ac73aecc7aba4805bf7dac8ac9c55edbc">00230</a>   <span class="keywordtype">string</span>               <a class="code" href="structprocess__s.html#ac73aecc7aba4805bf7dac8ac9c55edbc">m_kernel_config_name</a>; 
<a name="l00231"></a><a class="code" href="structprocess__s.html#ab3a31ad6a2b66f08214d9df8c1572f4b">00231</a>   <span class="keywordtype">int</span>                  <a class="code" href="structprocess__s.html#ab3a31ad6a2b66f08214d9df8c1572f4b">m_current_vector_index</a>; 
<a name="l00232"></a><a class="code" href="structprocess__s.html#a42b0cd7d3f544dc9cd7689d5ecc98583">00232</a>   map&lt;int, bool&gt;       <a class="code" href="structprocess__s.html#a42b0cd7d3f544dc9cd7689d5ecc98583">m_block_list</a>; 
<a name="l00233"></a><a class="code" href="structprocess__s.html#a5af0d84f34d9a81519faaf6475bb2bff">00233</a>   uns64                <a class="code" href="structprocess__s.html#a5af0d84f34d9a81519faaf6475bb2bff">m_inst_count_tot</a>; 
<a name="l00234"></a><a class="code" href="structprocess__s.html#a746e127b1afbcf751be762e21472374b">00234</a>   <span class="keywordtype">int</span>                  <a class="code" href="structprocess__s.html#a746e127b1afbcf751be762e21472374b">m_block_count</a>; 
<a name="l00235"></a>00235 } <a class="code" href="structprocess__s.html" title="Process data structure.">process_s</a>;
<a name="l00236"></a>00236 
<a name="l00237"></a>00237 
<a name="l00243"></a><a class="code" href="classprocess__manager__c.html">00243</a> <span class="keyword">class </span><a class="code" href="classprocess__manager__c.html" title="Process and Thread manager class.">process_manager_c</a>
<a name="l00244"></a>00244 {
<a name="l00245"></a>00245   <span class="keyword">public</span>:
<a name="l00249"></a>00249     <a class="code" href="classprocess__manager__c.html#acd81384cecb912bd143ec14ef1b74f95">process_manager_c</a>(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l00250"></a>00250 
<a name="l00254"></a>00254     <a class="code" href="classprocess__manager__c.html#a9c459d11d9290dc96e40224eb12e51ca">~process_manager_c</a>();
<a name="l00255"></a>00255 
<a name="l00260"></a>00260     <span class="keywordtype">int</span> <a class="code" href="classprocess__manager__c.html#aae08e9591cbeac5e916852bcd43b5708">create_process</a>(<span class="keywordtype">string</span> appl);
<a name="l00261"></a>00261     
<a name="l00269"></a>00269     <span class="keywordtype">int</span> <a class="code" href="classprocess__manager__c.html#aae08e9591cbeac5e916852bcd43b5708">create_process</a>(<span class="keywordtype">string</span> appl, <span class="keywordtype">int</span> repeat, <span class="keywordtype">int</span> pid);
<a name="l00270"></a>00270     
<a name="l00274"></a>00274     <span class="keywordtype">bool</span> <a class="code" href="classprocess__manager__c.html#a4706b28e0c7b73c49fdc89596bca8308">terminate_process</a>(<a class="code" href="structprocess__s.html" title="Process data structure.">process_s</a> *process);
<a name="l00275"></a>00275 
<a name="l00279"></a>00279     <span class="keywordtype">void</span> <a class="code" href="classprocess__manager__c.html#afe1750e1d8e076cd2efb1b62fcde1276">setup_process</a>(<a class="code" href="structprocess__s.html" title="Process data structure.">process_s</a>* process);
<a name="l00280"></a>00280 
<a name="l00289"></a>00289     <span class="keywordtype">void</span> <a class="code" href="classprocess__manager__c.html#a27441c6e84b6d582d375a3670b4823df">create_thread_node</a>(<a class="code" href="structprocess__s.html" title="Process data structure.">process_s</a> *process, <span class="keywordtype">int</span> tid, <span class="keywordtype">bool</span> main);
<a name="l00290"></a>00290 
<a name="l00298"></a>00298     <span class="keywordtype">int</span> <a class="code" href="classprocess__manager__c.html#a71be3931ab2a657faf979f0a0fc719a6">terminate_thread</a>(<span class="keywordtype">int</span> core_id, <a class="code" href="structthread__s.html" title="Thread data structure.">thread_s</a> *trace_info, <span class="keywordtype">int</span> thread_id, <span class="keywordtype">int</span> block_id);
<a name="l00299"></a>00299 
<a name="l00303"></a>00303     <span class="keywordtype">void</span> <a class="code" href="classprocess__manager__c.html#af6aa8eb4d2257fc6e0f6c054e298fad4">sim_thread_schedule</a>(<span class="keywordtype">void</span>);
<a name="l00304"></a>00304 
<a name="l00305"></a>00305   <span class="keyword">private</span>:
<a name="l00310"></a>00310     <span class="keywordtype">int</span> <a class="code" href="classprocess__manager__c.html#af5b771accff1a1a586eda0fff5d731c4">sim_schedule_thread_block</a>(<span class="keywordtype">int</span> core_id);
<a name="l00311"></a>00311     
<a name="l00316"></a>00316     <span class="keywordtype">void</span> <a class="code" href="classprocess__manager__c.html#aac295c0fb13eee3ac88eb194f6490d38">insert_thread</a>(<a class="code" href="structthread__trace__info__node__s.html" title="Thread trace information node.">thread_trace_info_node_s</a> *incoming);
<a name="l00317"></a>00317     
<a name="l00322"></a>00322     <span class="keywordtype">void</span> <a class="code" href="classprocess__manager__c.html#a5fa5c35eb19fd242cd6f6f10ff5e5d59">insert_block</a>(<a class="code" href="structthread__trace__info__node__s.html" title="Thread trace information node.">thread_trace_info_node_s</a> *incoming);
<a name="l00323"></a>00323     
<a name="l00327"></a>00327     <a class="code" href="structthread__trace__info__node__s.html" title="Thread trace information node.">thread_trace_info_node_s</a> *<a class="code" href="classprocess__manager__c.html#ade9cab5331bac2126425b1152d3e7163">fetch_thread</a>();
<a name="l00328"></a>00328     
<a name="l00332"></a>00332     <a class="code" href="structthread__trace__info__node__s.html" title="Thread trace information node.">thread_trace_info_node_s</a> *<a class="code" href="classprocess__manager__c.html#a7c24e875698b8dd7da47597a5b2fb2aa">fetch_block</a>(<span class="keywordtype">int</span> block_id);
<a name="l00333"></a>00333     
<a name="l00342"></a>00342     <a class="code" href="structthread__s.html" title="Thread data structure.">thread_s</a>* <a class="code" href="classprocess__manager__c.html#ab37b9bf4f76080b5a6adb5e902a761ef">create_thread</a>(<a class="code" href="structprocess__s.html" title="Process data structure.">process_s</a> *process, <span class="keywordtype">int</span> tid, <span class="keywordtype">bool</span> main);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344   <span class="keyword">private</span>:
<a name="l00345"></a><a class="code" href="classprocess__manager__c.html#a0fa9dc97ed1a88aadc63b0a82ef24896">00345</a>     list&lt;thread_trace_info_node_s *&gt; *<a class="code" href="classprocess__manager__c.html#a0fa9dc97ed1a88aadc63b0a82ef24896">m_thread_queue</a>; 
<a name="l00346"></a><a class="code" href="classprocess__manager__c.html#a07f5bef183ba3a7f15ed362c562c1137">00346</a>     unordered_map&lt;int, list&lt;thread_trace_info_node_s *&gt; *&gt; *<a class="code" href="classprocess__manager__c.html#a07f5bef183ba3a7f15ed362c562c1137">m_block_queue</a>; 
<a name="l00347"></a><a class="code" href="classprocess__manager__c.html#ae5ef36e1434826d79d370c9afcb174bc">00347</a>     <a class="code" href="classpool__c.html" title="pool class">pool_c&lt;hash_c&lt;inst_info_s&gt;</a> &gt;* <a class="code" href="classprocess__manager__c.html#ae5ef36e1434826d79d370c9afcb174bc">m_inst_hash_pool</a>; 
<a name="l00349"></a>00349     unordered_map&lt;int, Counter&gt; m_appl_cyccount_info;
<a name="l00350"></a><a class="code" href="classprocess__manager__c.html#a6cca65c36ed2b7747dd13857fcce6ee9">00350</a>     <a class="code" href="classmacsim__c.html">macsim_c</a>* <a class="code" href="classprocess__manager__c.html#a6cca65c36ed2b7747dd13857fcce6ee9">m_simBase</a>;         
<a name="l00351"></a>00351 };
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Dec 7 2011 23:21:52 for MacSim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
