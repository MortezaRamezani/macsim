<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MacSim: statistics.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>statistics.h</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/**********************************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> * File         : statistics.h</span>
<a name="l00003"></a>00003 <span class="comment"> * Author       : Abderrahim Benquassmi</span>
<a name="l00004"></a>00004 <span class="comment"> * Date         : 3/11/2008 </span>
<a name="l00005"></a>00005 <span class="comment"> * CVS          : $Id: knob.h 868 2009-11-05 06:28:01Z kacear $:</span>
<a name="l00006"></a>00006 <span class="comment"> * Description  : stats framework</span>
<a name="l00007"></a>00007 <span class="comment"> *********************************************************************************************/</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="comment">/*</span>
<a name="l00011"></a>00011 <span class="comment">  COUNT_TYPE_STAT, // stat is a simple counter  output is a number</span>
<a name="l00012"></a>00012 <span class="comment">  DIST_TYPE_STAT, // stat is the beginning of end of a distribution  output is a histogram</span>
<a name="l00013"></a>00013 <span class="comment">  PER_INST_TYPE_STAT, // stat is measured per instruction</span>
<a name="l00014"></a>00014 <span class="comment">  //   output is a ratio of count/inst_count</span>
<a name="l00015"></a>00015 <span class="comment">  PER_1000_INST_TYPE_STAT, // stat is measured per 1000 instructions</span>
<a name="l00016"></a>00016 <span class="comment">  //   output is a ratio of 1000*count/inst_count</span>
<a name="l00017"></a>00017 <span class="comment">  PER_1000_PRET_INST_TYPE_STAT, // stat is measured per 1000 pseudo-retired instructions</span>
<a name="l00018"></a>00018 <span class="comment">  //   output is a ratio of 1000*count/pret_inst_count</span>
<a name="l00019"></a>00019 <span class="comment">  PER_CYCLE_TYPE_STAT, // stat is measured per cycle</span>
<a name="l00020"></a>00020 <span class="comment">  //   output is a ratio of count/cycle_count</span>
<a name="l00021"></a>00021 <span class="comment">  RATIO_TYPE_STAT, // stat is measured per &lt;some other stat&gt;</span>
<a name="l00022"></a>00022 <span class="comment">  //   output is a ratio of count/other</span>
<a name="l00023"></a>00023 <span class="comment">  PERCENT_TYPE_STAT, // stat is measured per &lt;some other stat&gt;</span>
<a name="l00024"></a>00024 <span class="comment">  //   output is a percent of count/other</span>
<a name="l00025"></a>00025 <span class="comment">  LINE_TYPE_STAT,</span>
<a name="l00026"></a>00026 <span class="comment">*/</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#ifndef STATS_H_INCLUDED</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span><span class="preprocessor">#define STATS_H_INCLUDED</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;iomanip&gt;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;statsEnums.h&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;global_defs.h&quot;</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">using namespace </span>std;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="preprocessor">#define FILED1_LENGTH 45</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#define FILED2_LENGTH 20</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#define FILED3_LENGTH 30</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#define FILED4_LENGTH 30</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getInstructionCount();
<a name="l00059"></a>00059 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getPseudoRetiredInstructionCount();
<a name="l00060"></a>00060 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getCycleCount();
<a name="l00061"></a>00061 <span class="keywordtype">void</span> init_per_core_stats(<span class="keywordtype">unsigned</span> num_cores, <a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 ofstream* getOutputStream(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; filename);
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="keyword">class </span><a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>;
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; getGLobalStat(<span class="keywordtype">long</span> ID, <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>* m_ProcStat);
<a name="l00068"></a>00068 <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; getCoreWideStat(<span class="keywordtype">int</span> coreID, <span class="keywordtype">long</span> statID, <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>* m_ProcStat);
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 
<a name="l00074"></a><a class="code" href="classAbstractStat.html">00074</a> <span class="keyword">class </span><a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00075"></a>00075 {
<a name="l00076"></a>00076   <span class="keyword">friend</span> <span class="keyword">class </span>StatisticsDumper;
<a name="l00077"></a>00077 
<a name="l00078"></a>00078   <span class="keyword">public</span>:
<a name="l00082"></a><a class="code" href="classAbstractStat.html#a1fefc0acf03b173a655286a1ecb51618">00082</a>     <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID, 
<a name="l00083"></a>00083         <span class="keywordtype">bool</span> corewide = <span class="keyword">false</span>, <span class="keywordtype">bool</span> isTemplate = <span class="keyword">true</span>):
<a name="l00084"></a>00084       m_name(str), m_count(0), m_total_count(0), m_pRatioStat(NULL), 
<a name="l00085"></a>00085       m_fileName(outputfilename), m_ID(ID), m_bCoreWide(corewide), m_coreID(0),
<a name="l00086"></a>00086       m_isTemplate(isTemplate), m_suffix(<span class="stringliteral">&quot;&quot;</span>) {}
<a name="l00087"></a>00087 
<a name="l00091"></a><a class="code" href="classAbstractStat.html#a68d27fe0b5592399df77bb6e681e8b5e">00091</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html#a68d27fe0b5592399df77bb6e681e8b5e">~AbstractStat</a>() {}
<a name="l00092"></a>00092 
<a name="l00096"></a>00096     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID) = 0;
<a name="l00097"></a>00097 
<a name="l00101"></a><a class="code" href="classAbstractStat.html#a8b819d1de7dd14edb854545329484506">00101</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> memberOfDistribution()
<a name="l00102"></a>00102     {
<a name="l00103"></a>00103       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00104"></a>00104     }
<a name="l00105"></a>00105 
<a name="l00109"></a><a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">00109</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> setCoreID(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00110"></a>00110     {
<a name="l00111"></a>00111       <span class="keywordtype">char</span> suffix[20];
<a name="l00112"></a>00112 
<a name="l00113"></a>00113       m_coreID = coreID;
<a name="l00114"></a>00114       m_bCoreWide = <span class="keyword">true</span>;
<a name="l00115"></a>00115 
<a name="l00116"></a>00116       sprintf(suffix, <span class="stringliteral">&quot;_CORE_%d&quot;</span>, m_coreID);
<a name="l00117"></a>00117       m_suffix = suffix;
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119 
<a name="l00123"></a><a class="code" href="classAbstractStat.html#acc7e262331b3d7d15bff6da1656f663c">00123</a>     <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; getOutputFilename()
<a name="l00124"></a>00124     {
<a name="l00125"></a>00125       <span class="keywordflow">return</span> m_fileName;
<a name="l00126"></a>00126     }
<a name="l00127"></a>00127 
<a name="l00131"></a><a class="code" href="classAbstractStat.html#a6a34495d13bcc699bdc93097b9126e1c">00131</a>     <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; getName()
<a name="l00132"></a>00132     {
<a name="l00133"></a>00133       <span class="keywordflow">return</span> m_name;
<a name="l00134"></a>00134     }
<a name="l00135"></a>00135 
<a name="l00139"></a><a class="code" href="classAbstractStat.html#a8680b7ffff5ee2ce31f705c62d1c0c17">00139</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> inc()
<a name="l00140"></a>00140     {
<a name="l00141"></a>00141       m_count += 1;
<a name="l00142"></a>00142     }
<a name="l00143"></a>00143 
<a name="l00147"></a><a class="code" href="classAbstractStat.html#ad9686be94bf46c5a6b13905de73ae839">00147</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> inc(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta)
<a name="l00148"></a>00148     {
<a name="l00149"></a>00149       m_count += delta;
<a name="l00150"></a>00150     }
<a name="l00151"></a>00151 
<a name="l00155"></a><a class="code" href="classAbstractStat.html#a6f7ce3ecac297732ca764cab841fe5c1">00155</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> operator++(<span class="keywordtype">int</span>)
<a name="l00156"></a>00156     {
<a name="l00157"></a>00157       m_count += 1;
<a name="l00158"></a>00158     }
<a name="l00159"></a>00159 
<a name="l00163"></a><a class="code" href="classAbstractStat.html#a034988d1f13e337dd03a440dbf0220d5">00163</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> operator--(<span class="keywordtype">int</span>)
<a name="l00164"></a>00164     {
<a name="l00165"></a>00165       m_count -= 1;
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 
<a name="l00171"></a><a class="code" href="classAbstractStat.html#abda03736dff81db196a3ba5f68bfa59b">00171</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> operator+=(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> delta)
<a name="l00172"></a>00172     {
<a name="l00173"></a>00173       m_count += delta;
<a name="l00174"></a>00174     }
<a name="l00175"></a>00175 
<a name="l00179"></a><a class="code" href="classAbstractStat.html#a90056a981a2a113065d1afb4006e4d00">00179</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> getCount()
<a name="l00180"></a>00180     {
<a name="l00181"></a>00181       <span class="keywordflow">return</span> m_count;
<a name="l00182"></a>00182     }
<a name="l00183"></a>00183 
<a name="l00187"></a><a class="code" href="classAbstractStat.html#aa4760247da47c70d7345de5d881f59cb">00187</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeTo(ofstream&amp; stream)
<a name="l00188"></a>00188     {
<a name="l00189"></a>00189       <span class="keywordtype">string</span> name = m_name;
<a name="l00190"></a>00190       name.append(m_suffix);
<a name="l00191"></a>00191       stream.setf( ios::left, ios::adjustfield );
<a name="l00192"></a>00192       stream &lt;&lt; setw(FILED1_LENGTH) &lt;&lt; name;
<a name="l00193"></a>00193 
<a name="l00194"></a>00194       stream.setf ( ios::right, ios::adjustfield );
<a name="l00195"></a>00195       stream &lt;&lt; setw(FILED2_LENGTH) &lt;&lt; m_count &lt;&lt; setw(FILED3_LENGTH) &lt;&lt; m_count &lt;&lt; 
<a name="l00196"></a>00196         endl &lt;&lt; endl;
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199   <span class="keyword">protected</span>:
<a name="l00200"></a><a class="code" href="classAbstractStat.html#a0364622ef4333da55eb4ff1ce94444c5">00200</a>     <span class="keywordtype">string</span> m_name; 
<a name="l00201"></a><a class="code" href="classAbstractStat.html#a01d7f2515084aa821e717b2cb3ecbf34">00201</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> m_count; 
<a name="l00202"></a><a class="code" href="classAbstractStat.html#a85a84b70539aea2b1318bd45b4d48104">00202</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> m_total_count; 
<a name="l00203"></a><a class="code" href="classAbstractStat.html#a4b62c42003dcc7db965a323a2df01089">00203</a>     <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* m_pRatioStat; 
<a name="l00204"></a><a class="code" href="classAbstractStat.html#acc58d3d15674660dbf0955193712d36f">00204</a>     <span class="keywordtype">string</span> m_fileName; 
<a name="l00205"></a><a class="code" href="classAbstractStat.html#aaa8defb9f5bac0e43ad521ee64334a43">00205</a>     <span class="keywordtype">long</span> m_ID; 
<a name="l00206"></a><a class="code" href="classAbstractStat.html#a39eb3f7796f91946e4fcb76be59c0951">00206</a>     <span class="keywordtype">bool</span> m_bCoreWide; 
<a name="l00207"></a><a class="code" href="classAbstractStat.html#ae5f64870f70c46c9d45421298fe14c41">00207</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_coreID; 
<a name="l00208"></a><a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">00208</a>     <span class="keywordtype">bool</span> m_isTemplate; 
<a name="l00209"></a><a class="code" href="classAbstractStat.html#af7f98a59844e9417602d28b4849ef105">00209</a>     <span class="keywordtype">string</span> m_suffix; 
<a name="l00210"></a>00210 };
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 
<a name="l00216"></a><a class="code" href="classCOUNT__Stat.html">00216</a> <span class="keyword">class </span><a class="code" href="classCOUNT__Stat.html" title="COUNT type stats.">COUNT_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00217"></a>00217 {
<a name="l00218"></a>00218   <span class="keyword">public</span>:
<a name="l00222"></a><a class="code" href="classCOUNT__Stat.html#ab306d33117de1ab68ce7307c937f1f29">00222</a>     <a class="code" href="classCOUNT__Stat.html" title="COUNT type stats.">COUNT_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID):
<a name="l00223"></a>00223       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID) {}
<a name="l00224"></a>00224 
<a name="l00228"></a><a class="code" href="classCOUNT__Stat.html#a080c807a9cf2da4fc1fd7c5ffb233528">00228</a>     <span class="keyword">virtual</span> <a class="code" href="classCOUNT__Stat.html#a080c807a9cf2da4fc1fd7c5ffb233528">~COUNT_Stat</a>() {}
<a name="l00229"></a>00229 
<a name="l00233"></a><a class="code" href="classCOUNT__Stat.html#ad985ac068e44a565f76f1615b2677022">00233</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00234"></a>00234     {
<a name="l00235"></a>00235       <a class="code" href="classCOUNT__Stat.html" title="COUNT type stats.">COUNT_Stat</a>* pStat = <span class="keyword">new</span> <a class="code" href="classCOUNT__Stat.html" title="COUNT type stats.">COUNT_Stat</a>(m_name, m_fileName, this-&gt;m_ID);
<a name="l00236"></a>00236       pStat-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00237"></a>00237       pStat-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00238"></a>00238 
<a name="l00239"></a>00239       <span class="keywordflow">return</span> pStat;
<a name="l00240"></a>00240     }
<a name="l00241"></a>00241 };
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 <span class="keyword">class </span><a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>;
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 
<a name="l00250"></a><a class="code" href="classDISTMember__Stat.html">00250</a> <span class="keyword">class </span><a class="code" href="classDISTMember__Stat.html" title="Distribution member class.">DISTMember_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00251"></a>00251 {
<a name="l00252"></a>00252   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>;
<a name="l00253"></a>00253 
<a name="l00254"></a><a class="code" href="classDISTMember__Stat.html#a161cdc74a36982281bcbfb0240509f44">00254</a>   <span class="keywordtype">long</span> m_parentDistroID; 
<a name="l00256"></a>00256  <span class="keyword">public</span>:
<a name="l00260"></a><a class="code" href="classDISTMember__Stat.html#a42b92bba8d7d564ead7e520a071fbb92">00260</a>     <a class="code" href="classDISTMember__Stat.html" title="Distribution member class.">DISTMember_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str,  <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID, <span class="keywordtype">long</span> distID,
<a name="l00261"></a>00261         <span class="keywordtype">bool</span> coreWide = <span class="keyword">false</span>, <span class="keywordtype">bool</span> isTemplate = <span class="keyword">false</span>):
<a name="l00262"></a>00262       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID, coreWide, isTemplate), m_parentDistroID(distID) {}
<a name="l00263"></a>00263 
<a name="l00267"></a><a class="code" href="classDISTMember__Stat.html#a499ff709db253422a0ba3d249fd9f828">00267</a>     <span class="keyword">virtual</span> ~<a class="code" href="classDISTMember__Stat.html" title="Distribution member class.">DISTMember_Stat</a>()
<a name="l00268"></a>00268     {
<a name="l00269"></a>00269     }
<a name="l00270"></a>00270 
<a name="l00274"></a><a class="code" href="classDISTMember__Stat.html#a0b0238ffd723c62d9f1d52c7499296c0">00274</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classAbstractStat.html#a8b819d1de7dd14edb854545329484506">memberOfDistribution</a>()
<a name="l00275"></a>00275     {
<a name="l00276"></a>00276       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00277"></a>00277     }
<a name="l00278"></a>00278 
<a name="l00282"></a><a class="code" href="classDISTMember__Stat.html#ad23f94e3c35b4009cd87490eded85bfc">00282</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> setParentDistroID(<span class="keywordtype">long</span> ID)
<a name="l00283"></a>00283     {
<a name="l00284"></a>00284       m_parentDistroID = ID;
<a name="l00285"></a>00285     }
<a name="l00286"></a>00286 
<a name="l00290"></a><a class="code" href="classDISTMember__Stat.html#a3a20618868cfc2ac768e0e640049ffad">00290</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* <a class="code" href="classDIST__Stat.html#a11f5f75a5f6d8551e342a23e72f27809">clone</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00291"></a>00291     {
<a name="l00292"></a>00292       <a class="code" href="classDISTMember__Stat.html" title="Distribution member class.">DISTMember_Stat</a>* pStat = <span class="keyword">new</span> <a class="code" href="classDISTMember__Stat.html" title="Distribution member class.">DISTMember_Stat</a>(<a class="code" href="classAbstractStat.html#a0364622ef4333da55eb4ff1ce94444c5">m_name</a>, <a class="code" href="classAbstractStat.html#acc58d3d15674660dbf0955193712d36f">m_fileName</a>, <a class="code" href="classAbstractStat.html#aaa8defb9f5bac0e43ad521ee64334a43">m_ID</a>, <span class="keyword">true</span>, 
<a name="l00293"></a>00293           <a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a>);
<a name="l00294"></a>00294       pStat-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00295"></a>00295       pStat-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00296"></a>00296       pStat-&gt;<a class="code" href="classDISTMember__Stat.html#a161cdc74a36982281bcbfb0240509f44">m_parentDistroID</a> = m_parentDistroID;
<a name="l00297"></a>00297 
<a name="l00298"></a>00298       <span class="keywordflow">return</span> pStat;
<a name="l00299"></a>00299     }
<a name="l00300"></a>00300 };
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00306"></a><a class="code" href="classDIST__Stat.html">00306</a> <span class="keyword">class </span><a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00307"></a>00307 {
<a name="l00308"></a><a class="code" href="classDIST__Stat.html#a66b040153f6d5636d372b5bb3f0c6802">00308</a>   vector&lt;long&gt;  m_distributionMembers; 
<a name="l00310"></a>00310   <span class="keyword">public</span>:
<a name="l00314"></a><a class="code" href="classDIST__Stat.html#a0ecccb2dc9ba814f9468d3f814329b04">00314</a>     <a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID, <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>* procStat):
<a name="l00315"></a>00315       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID) 
<a name="l00316"></a>00316     {
<a name="l00317"></a>00317       m_ProcStat = procStat;
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319 
<a name="l00323"></a><a class="code" href="classDIST__Stat.html#a223d849dc2df71d9909a5833bf17beb9">00323</a>     <span class="keyword">virtual</span> ~<a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>()
<a name="l00324"></a>00324     {
<a name="l00325"></a>00325       <span class="keywordflow">if</span>(!m_isTemplate)
<a name="l00326"></a>00326       {
<a name="l00327"></a>00327       }
<a name="l00328"></a>00328 
<a name="l00329"></a>00329       m_distributionMembers.clear();
<a name="l00330"></a>00330     }
<a name="l00331"></a>00331 
<a name="l00335"></a><a class="code" href="classDIST__Stat.html#a11f5f75a5f6d8551e342a23e72f27809">00335</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00336"></a>00336     {
<a name="l00337"></a>00337       <a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>* pClone = <span class="keyword">new</span> <a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>(this-&gt;m_name, this-&gt;m_fileName, this-&gt;m_ID, this-&gt;m_ProcStat);
<a name="l00338"></a>00338 
<a name="l00339"></a>00339       pClone-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00340"></a>00340       pClone-&gt;<a class="code" href="classAbstractStat.html#a39eb3f7796f91946e4fcb76be59c0951">m_bCoreWide</a> = <span class="keyword">true</span>;
<a name="l00341"></a>00341       pClone-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00342"></a>00342 
<a name="l00343"></a>00343       vector&lt;long&gt;::iterator iter = m_distributionMembers.begin();
<a name="l00344"></a>00344       vector&lt;long&gt;::iterator end = m_distributionMembers.end();
<a name="l00345"></a>00345 
<a name="l00346"></a>00346       <span class="keywordflow">while</span>(iter != end)
<a name="l00347"></a>00347       {
<a name="l00348"></a>00348         <span class="keywordtype">long</span> memberID = (*iter);
<a name="l00349"></a>00349 
<a name="l00350"></a>00350         pClone-&gt;<a class="code" href="classDIST__Stat.html#a04d60f3b378b7c9439039abe2e2019d0">addMember</a>(memberID);
<a name="l00351"></a>00351 
<a name="l00352"></a>00352         iter++;
<a name="l00353"></a>00353       }
<a name="l00354"></a>00354 
<a name="l00355"></a>00355       <span class="keywordflow">return</span> pClone;
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357 
<a name="l00361"></a><a class="code" href="classDIST__Stat.html#a04d60f3b378b7c9439039abe2e2019d0">00361</a>     <span class="keywordtype">void</span> addMember(<span class="keywordtype">long</span> memberID)
<a name="l00362"></a>00362     {
<a name="l00363"></a>00363       m_distributionMembers.push_back(memberID);
<a name="l00364"></a>00364     }
<a name="l00365"></a>00365 
<a name="l00369"></a>00369     <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeTo(ofstream&amp; stream);
<a name="l00370"></a>00370 
<a name="l00371"></a>00371     <span class="keyword">private</span>:
<a name="l00372"></a><a class="code" href="classDIST__Stat.html#a867cb02e1feb40c13b29ab79746853e6">00372</a>       <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>* m_ProcStat; 
<a name="l00375"></a>00375 };
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 
<a name="l00381"></a><a class="code" href="classPER__INST__Stat.html">00381</a> <span class="keyword">class </span><a class="code" href="classPER__INST__Stat.html" title="PER_INST type stat.">PER_INST_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00382"></a>00382 {
<a name="l00383"></a>00383   <span class="keyword">public</span>:
<a name="l00387"></a><a class="code" href="classPER__INST__Stat.html#aabfaf17917f7d000cca7a88baba533a4">00387</a>     <a class="code" href="classPER__INST__Stat.html" title="PER_INST type stat.">PER_INST_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID):
<a name="l00388"></a>00388       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID) {}
<a name="l00389"></a>00389 
<a name="l00393"></a><a class="code" href="classPER__INST__Stat.html#a6f3a65cdcd74729016d755bfed571a6c">00393</a>     <span class="keyword">virtual</span> <a class="code" href="classPER__INST__Stat.html#a6f3a65cdcd74729016d755bfed571a6c">~PER_INST_Stat</a>() {}
<a name="l00394"></a>00394 
<a name="l00398"></a><a class="code" href="classPER__INST__Stat.html#a46a249720fb40d3ddef0c2f39c241c03">00398</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00399"></a>00399     {
<a name="l00400"></a>00400       <a class="code" href="classPER__INST__Stat.html" title="PER_INST type stat.">PER_INST_Stat</a>* pStat = <span class="keyword">new</span> <a class="code" href="classPER__INST__Stat.html" title="PER_INST type stat.">PER_INST_Stat</a>(this-&gt;m_name, this-&gt;m_fileName, this-&gt;m_ID);
<a name="l00401"></a>00401       pStat-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00402"></a>00402       pStat-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00403"></a>00403       <span class="keywordflow">return</span> pStat;
<a name="l00404"></a>00404     }
<a name="l00405"></a>00405 
<a name="l00409"></a><a class="code" href="classPER__INST__Stat.html#ad7ffab56cc4bbd33c3332de3863e9b54">00409</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeTo(ofstream&amp; stream)
<a name="l00410"></a>00410     {
<a name="l00411"></a>00411       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numInstructions = getInstructionCount();
<a name="l00412"></a>00412       per_inst_value = (float)m_count / numInstructions;
<a name="l00413"></a>00413       <span class="keywordtype">string</span> name = m_name;
<a name="l00414"></a>00414       name.append(m_suffix);
<a name="l00415"></a>00415 
<a name="l00416"></a>00416       stream.setf ( ios::left, ios::adjustfield );
<a name="l00417"></a>00417       stream &lt;&lt; setw(FILED1_LENGTH) &lt;&lt; name;
<a name="l00418"></a>00418       stream.setf ( ios::right, ios::adjustfield );
<a name="l00419"></a>00419       stream &lt;&lt; setw(FILED2_LENGTH) &lt;&lt; m_count &lt;&lt; setw(FILED3_LENGTH) 
<a name="l00420"></a>00420         &lt;&lt; per_inst_value &lt;&lt; endl &lt;&lt; endl;
<a name="l00421"></a>00421     }
<a name="l00422"></a>00422   
<a name="l00423"></a>00423   <span class="keyword">private</span>:
<a name="l00424"></a><a class="code" href="classPER__INST__Stat.html#a1678ba031f3e53cdca033aac3e352925">00424</a>     <span class="keywordtype">float</span> per_inst_value; 
<a name="l00425"></a>00425 };
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 
<a name="l00431"></a><a class="code" href="classPER__CYCLE__Stat.html">00431</a> <span class="keyword">class </span><a class="code" href="classPER__CYCLE__Stat.html" title="PER_CYCLE stat.">PER_CYCLE_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00432"></a>00432 {
<a name="l00433"></a>00433   <span class="keyword">public</span>:
<a name="l00437"></a><a class="code" href="classPER__CYCLE__Stat.html#aeca09801bc358cd3f0e6efd6e26f667a">00437</a>     <a class="code" href="classPER__CYCLE__Stat.html" title="PER_CYCLE stat.">PER_CYCLE_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID):
<a name="l00438"></a>00438       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID) {}
<a name="l00439"></a>00439 
<a name="l00443"></a><a class="code" href="classPER__CYCLE__Stat.html#a6b6ad6f5d210941b1893f2a0cb8f1b4c">00443</a>     <span class="keyword">virtual</span> ~<a class="code" href="classPER__CYCLE__Stat.html" title="PER_CYCLE stat.">PER_CYCLE_Stat</a>()
<a name="l00444"></a>00444     {
<a name="l00445"></a>00445     }
<a name="l00446"></a>00446 
<a name="l00450"></a><a class="code" href="classPER__CYCLE__Stat.html#ae97b00337c422362a6a234b854141bdc">00450</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00451"></a>00451     {
<a name="l00452"></a>00452       <a class="code" href="classPER__CYCLE__Stat.html" title="PER_CYCLE stat.">PER_CYCLE_Stat</a>* pStat = <span class="keyword">new</span> <a class="code" href="classPER__CYCLE__Stat.html" title="PER_CYCLE stat.">PER_CYCLE_Stat</a>(this-&gt;m_name, this-&gt;m_fileName, this-&gt;m_ID);
<a name="l00453"></a>00453       pStat-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00454"></a>00454       pStat-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00455"></a>00455       <span class="keywordflow">return</span> pStat;
<a name="l00456"></a>00456     }
<a name="l00457"></a>00457 
<a name="l00461"></a><a class="code" href="classPER__CYCLE__Stat.html#afbaf94b274ded7040fe3592a44cc5769">00461</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeTo(ofstream&amp; stream)
<a name="l00462"></a>00462     {
<a name="l00463"></a>00463       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cycleCount = getCycleCount();
<a name="l00464"></a>00464       <span class="keywordflow">if</span> (cycleCount &gt; 0) {
<a name="l00465"></a>00465         <span class="keywordtype">string</span> name = m_name;
<a name="l00466"></a>00466         name.append(m_suffix);
<a name="l00467"></a>00467 
<a name="l00468"></a>00468         per_cycle = (float)m_count/cycleCount;
<a name="l00469"></a>00469 
<a name="l00470"></a>00470         stream.setf ( ios::left, ios::adjustfield );
<a name="l00471"></a>00471         stream &lt;&lt; setw(FILED1_LENGTH) &lt;&lt; name;
<a name="l00472"></a>00472         stream.setf ( ios::right, ios::adjustfield );
<a name="l00473"></a>00473         stream &lt;&lt; setw(FILED2_LENGTH) &lt;&lt; m_count &lt;&lt; setw(FILED3_LENGTH) 
<a name="l00474"></a>00474           &lt;&lt; per_cycle &lt;&lt; endl &lt;&lt; endl;
<a name="l00475"></a>00475       }
<a name="l00476"></a>00476     }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478   <span class="keyword">private</span>:
<a name="l00479"></a><a class="code" href="classPER__CYCLE__Stat.html#a01dce57aa26a221ac719276fafa58396">00479</a>     <span class="keywordtype">float</span> per_cycle; 
<a name="l00480"></a>00480 };
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 
<a name="l00486"></a><a class="code" href="classRATIO__Stat.html">00486</a> <span class="keyword">class </span><a class="code" href="classRATIO__Stat.html" title="RATIO type stat.">RATIO_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00487"></a>00487 {
<a name="l00488"></a>00488 
<a name="l00489"></a>00489   <span class="keyword">public</span>:
<a name="l00493"></a><a class="code" href="classRATIO__Stat.html#a4f4a78937a9e1c409fd1bffd69b19869">00493</a>     <a class="code" href="classRATIO__Stat.html" title="RATIO type stat.">RATIO_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID,
<a name="l00494"></a>00494                <span class="keywordtype">long</span> RatioID, <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>* procStat):
<a name="l00495"></a>00495       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID), m_RatioID(RatioID)
<a name="l00496"></a>00496     {
<a name="l00497"></a>00497       m_ProcStat = procStat;
<a name="l00498"></a>00498     }
<a name="l00499"></a>00499 
<a name="l00503"></a><a class="code" href="classRATIO__Stat.html#a5adc98be975fc5f84f0de874a188cf68">00503</a>     <span class="keyword">virtual</span> ~<a class="code" href="classRATIO__Stat.html" title="RATIO type stat.">RATIO_Stat</a>()
<a name="l00504"></a>00504     {
<a name="l00505"></a>00505       <span class="keywordflow">if</span>(!m_isTemplate)
<a name="l00506"></a>00506       {
<a name="l00507"></a>00507       }
<a name="l00508"></a>00508     }
<a name="l00509"></a>00509 
<a name="l00513"></a><a class="code" href="classRATIO__Stat.html#af0050320d2f308a6c076992e52c9ad27">00513</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00514"></a>00514     {
<a name="l00515"></a>00515       <a class="code" href="classRATIO__Stat.html" title="RATIO type stat.">RATIO_Stat</a>* pStat = <span class="keyword">new</span> <a class="code" href="classRATIO__Stat.html" title="RATIO type stat.">RATIO_Stat</a>(this-&gt;m_name, this-&gt;m_fileName, this-&gt;m_ID,
<a name="l00516"></a>00516                                          m_RatioID, this-&gt;m_ProcStat);
<a name="l00517"></a>00517       pStat-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00518"></a>00518       pStat-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00519"></a>00519       <span class="keywordflow">return</span> pStat;
<a name="l00520"></a>00520     }
<a name="l00521"></a>00521 
<a name="l00525"></a><a class="code" href="classRATIO__Stat.html#a5b5a26cf2443e041d5c5988e9ffa6c05">00525</a>     <span class="keywordtype">void</span> setRatioReference(<span class="keywordtype">long</span> ID)
<a name="l00526"></a>00526     {
<a name="l00527"></a>00527       m_RatioID = ID;
<a name="l00528"></a>00528     }
<a name="l00529"></a>00529 
<a name="l00533"></a><a class="code" href="classRATIO__Stat.html#a0bf776a3a5dbd304185c2fce9d04934e">00533</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeTo(ofstream&amp; stream)
<a name="l00534"></a>00534     {
<a name="l00535"></a>00535       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> refValue = 0;
<a name="l00536"></a>00536       <span class="keywordtype">string</span> refName = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00537"></a>00537 
<a name="l00538"></a>00538       <span class="keywordtype">string</span> name = m_name;
<a name="l00539"></a>00539       <span class="keywordflow">if</span> (m_bCoreWide) {
<a name="l00540"></a>00540         name.append(m_suffix);
<a name="l00541"></a>00541         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; refStat = getCoreWideStat(m_coreID, m_RatioID, m_ProcStat);
<a name="l00542"></a>00542         refValue = refStat.<a class="code" href="classAbstractStat.html#a90056a981a2a113065d1afb4006e4d00">getCount</a>();
<a name="l00543"></a>00543         refName = refStat.<a class="code" href="classAbstractStat.html#a6a34495d13bcc699bdc93097b9126e1c">getName</a>();
<a name="l00544"></a>00544       }
<a name="l00545"></a>00545       <span class="keywordflow">else</span> {
<a name="l00546"></a>00546         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; refStat = getGLobalStat(m_RatioID, m_ProcStat);
<a name="l00547"></a>00547         refValue = refStat.<a class="code" href="classAbstractStat.html#a90056a981a2a113065d1afb4006e4d00">getCount</a>();
<a name="l00548"></a>00548         refName = refStat.<a class="code" href="classAbstractStat.html#a6a34495d13bcc699bdc93097b9126e1c">getName</a>();
<a name="l00549"></a>00549       }
<a name="l00550"></a>00550 
<a name="l00551"></a>00551       stream.setf ( ios::left, ios::adjustfield );
<a name="l00552"></a>00552       stream &lt;&lt; setw(FILED1_LENGTH) &lt;&lt; name;
<a name="l00553"></a>00553 
<a name="l00554"></a>00554       stream.setf ( ios::right, ios::adjustfield );
<a name="l00555"></a>00555       stream &lt;&lt; setw(FILED2_LENGTH) &lt;&lt; m_count;
<a name="l00556"></a>00556 
<a name="l00557"></a>00557       stream.setf ( ios::right, ios::adjustfield );
<a name="l00558"></a>00558 
<a name="l00559"></a>00559       stream &lt;&lt; setw(FILED3_LENGTH);
<a name="l00560"></a>00560 
<a name="l00561"></a>00561       <span class="keywordflow">if</span> (refValue) {
<a name="l00562"></a>00562         ratio = (float)m_count / (<span class="keywordtype">float</span>)refValue;
<a name="l00563"></a>00563         stream &lt;&lt; ratio &lt;&lt; endl;
<a name="l00564"></a>00564       }
<a name="l00565"></a>00565       <span class="keywordflow">else</span> {
<a name="l00566"></a>00566         stream &lt;&lt; <span class="stringliteral">&quot;NaN&quot;</span> &lt;&lt; endl;
<a name="l00567"></a>00567       }
<a name="l00568"></a>00568 
<a name="l00569"></a>00569       stream &lt;&lt; endl;
<a name="l00570"></a>00570     }
<a name="l00571"></a>00571 
<a name="l00572"></a>00572   <span class="keyword">private</span>:
<a name="l00573"></a><a class="code" href="classRATIO__Stat.html#ad9389292fb4a07b1c5495e4e25ba0ecc">00573</a>     <span class="keywordtype">long</span> m_RatioID; 
<a name="l00574"></a><a class="code" href="classRATIO__Stat.html#acf9ee3f1943b126e2d824117de380a28">00574</a>     <span class="keywordtype">float</span> ratio; 
<a name="l00575"></a><a class="code" href="classRATIO__Stat.html#a1b31197fd3cb0740bdb32d50c4daec4c">00575</a>     <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>* m_ProcStat; 
<a name="l00576"></a>00576 };
<a name="l00577"></a>00577 
<a name="l00578"></a>00578 
<a name="l00582"></a><a class="code" href="classPERCENT__Stat.html">00582</a> <span class="keyword">class </span><a class="code" href="classPERCENT__Stat.html" title="PERCENT type stat.">PERCENT_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00583"></a>00583 {
<a name="l00584"></a>00584   <span class="keyword">public</span>:
<a name="l00588"></a><a class="code" href="classPERCENT__Stat.html#a75de30141ea55a2219a4d9fcb6b9097b">00588</a>     <a class="code" href="classPERCENT__Stat.html" title="PERCENT type stat.">PERCENT_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID, 
<a name="l00589"></a>00589                  <span class="keywordtype">long</span> denominatorID, <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>* procStat):
<a name="l00590"></a>00590       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID), m_denominatorID(denominatorID) 
<a name="l00591"></a>00591     {
<a name="l00592"></a>00592       m_ProcStat = procStat;
<a name="l00593"></a>00593     }
<a name="l00594"></a>00594 
<a name="l00598"></a><a class="code" href="classPERCENT__Stat.html#a0b1d53d550e454d48d0103c321159d9d">00598</a>     <span class="keyword">virtual</span> <a class="code" href="classPERCENT__Stat.html#a0b1d53d550e454d48d0103c321159d9d">~PERCENT_Stat</a>() {}
<a name="l00599"></a>00599 
<a name="l00603"></a><a class="code" href="classPERCENT__Stat.html#addd937bd0a1e3649ee2fb6e336ef5955">00603</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00604"></a>00604     {
<a name="l00605"></a>00605       <a class="code" href="classPERCENT__Stat.html" title="PERCENT type stat.">PERCENT_Stat</a>* pStat = <span class="keyword">new</span> <a class="code" href="classPERCENT__Stat.html" title="PERCENT type stat.">PERCENT_Stat</a>(m_name, m_fileName, m_ID, m_denominatorID, m_ProcStat);
<a name="l00606"></a>00606       pStat-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00607"></a>00607       pStat-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00608"></a>00608       <span class="keywordflow">return</span> pStat;
<a name="l00609"></a>00609     }
<a name="l00610"></a>00610 
<a name="l00614"></a><a class="code" href="classPERCENT__Stat.html#a927dba3cbaf53d4bc05de92f682f9c80">00614</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeTo(ofstream&amp; stream)
<a name="l00615"></a>00615     {
<a name="l00616"></a>00616       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> refValue = 0;
<a name="l00617"></a>00617       <span class="keywordtype">string</span> refName = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00618"></a>00618 
<a name="l00619"></a>00619       <span class="keywordtype">string</span> name = m_name;
<a name="l00620"></a>00620       <span class="keywordflow">if</span> (m_bCoreWide) {
<a name="l00621"></a>00621         name.append(m_suffix);
<a name="l00622"></a>00622         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; refStat = getCoreWideStat(m_coreID, m_denominatorID, m_ProcStat);
<a name="l00623"></a>00623         refValue = refStat.<a class="code" href="classAbstractStat.html#a90056a981a2a113065d1afb4006e4d00">getCount</a>();
<a name="l00624"></a>00624         refName = refStat.<a class="code" href="classAbstractStat.html#a6a34495d13bcc699bdc93097b9126e1c">getName</a>();
<a name="l00625"></a>00625       }
<a name="l00626"></a>00626       <span class="keywordflow">else</span> {
<a name="l00627"></a>00627         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; refStat = getGLobalStat(m_denominatorID, m_ProcStat);
<a name="l00628"></a>00628         refValue = refStat.<a class="code" href="classAbstractStat.html#a90056a981a2a113065d1afb4006e4d00">getCount</a>();
<a name="l00629"></a>00629         refName = refStat.<a class="code" href="classAbstractStat.html#a6a34495d13bcc699bdc93097b9126e1c">getName</a>();
<a name="l00630"></a>00630       }
<a name="l00631"></a>00631 
<a name="l00632"></a>00632       stream.setf ( ios::left, ios::adjustfield );
<a name="l00633"></a>00633       stream &lt;&lt; setw(FILED1_LENGTH) &lt;&lt; name;
<a name="l00634"></a>00634 
<a name="l00635"></a>00635       stream.setf ( ios::right, ios::adjustfield );
<a name="l00636"></a>00636       stream &lt;&lt; setw(FILED2_LENGTH) &lt;&lt; m_count;
<a name="l00637"></a>00637 
<a name="l00638"></a>00638       stream.setf ( ios::right, ios::adjustfield );
<a name="l00639"></a>00639       stream &lt;&lt; setw(FILED3_LENGTH) ;
<a name="l00640"></a>00640 
<a name="l00641"></a>00641       <span class="keywordflow">if</span> (refValue) {
<a name="l00642"></a>00642         ratio = (float)m_count / (<span class="keywordtype">float</span>)refValue;
<a name="l00643"></a>00643         percent = 100 * ratio;
<a name="l00644"></a>00644 
<a name="l00645"></a>00645         stream &lt;&lt; percent &lt;&lt; endl;
<a name="l00646"></a>00646       }
<a name="l00647"></a>00647       <span class="keywordflow">else</span> {
<a name="l00648"></a>00648         stream &lt;&lt; <span class="stringliteral">&quot;NaN&quot;</span> &lt;&lt; endl;
<a name="l00649"></a>00649       }
<a name="l00650"></a>00650 
<a name="l00651"></a>00651       stream &lt;&lt; endl;
<a name="l00652"></a>00652     }
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 
<a name="l00655"></a>00655   <span class="keyword">private</span>:
<a name="l00656"></a><a class="code" href="classPERCENT__Stat.html#a0079cc34c77679a78843bf6788e7e4b3">00656</a>     <span class="keywordtype">long</span> m_denominatorID; 
<a name="l00657"></a><a class="code" href="classPERCENT__Stat.html#acceb28a0ccaf48ba31b576c0f88b1303">00657</a>     <span class="keywordtype">float</span> ratio; 
<a name="l00658"></a><a class="code" href="classPERCENT__Stat.html#a51c6f05b501728724644b0a831abd1eb">00658</a>     <span class="keywordtype">float</span> percent; 
<a name="l00659"></a><a class="code" href="classPERCENT__Stat.html#aaa7e252b1f03c04d1f16b78f360cc601">00659</a>     <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>* m_ProcStat; 
<a name="l00660"></a>00660 };
<a name="l00661"></a>00661 
<a name="l00662"></a>00662 
<a name="l00666"></a><a class="code" href="classPER__1000__INST__Stat.html">00666</a> <span class="keyword">class </span><a class="code" href="classPER__1000__INST__Stat.html" title="PER_1000_INST type stat.">PER_1000_INST_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00667"></a>00667 {
<a name="l00668"></a>00668   <span class="keyword">public</span>:
<a name="l00672"></a><a class="code" href="classPER__1000__INST__Stat.html#ae928c5d8616cf8a0cd3e2721bb6a12a6">00672</a>     <a class="code" href="classPER__1000__INST__Stat.html" title="PER_1000_INST type stat.">PER_1000_INST_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID):
<a name="l00673"></a>00673       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID) {}
<a name="l00674"></a>00674 
<a name="l00678"></a><a class="code" href="classPER__1000__INST__Stat.html#ab68ba2b4b7f7808cd13dea3903ac85d1">00678</a>     <span class="keyword">virtual</span> ~<a class="code" href="classPER__1000__INST__Stat.html" title="PER_1000_INST type stat.">PER_1000_INST_Stat</a>()
<a name="l00679"></a>00679     {
<a name="l00680"></a>00680     }
<a name="l00681"></a>00681 
<a name="l00685"></a><a class="code" href="classPER__1000__INST__Stat.html#aa91568b17fd503ba676dd22dfbc13e9a">00685</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00686"></a>00686     {
<a name="l00687"></a>00687       <a class="code" href="classPER__1000__INST__Stat.html" title="PER_1000_INST type stat.">PER_1000_INST_Stat</a>* pStat = <span class="keyword">new</span> <a class="code" href="classPER__1000__INST__Stat.html" title="PER_1000_INST type stat.">PER_1000_INST_Stat</a>(m_name, m_fileName, m_ID);
<a name="l00688"></a>00688       pStat-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00689"></a>00689       pStat-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00690"></a>00690       <span class="keywordflow">return</span> pStat;
<a name="l00691"></a>00691     }
<a name="l00692"></a>00692 
<a name="l00696"></a><a class="code" href="classPER__1000__INST__Stat.html#adb9d735306e7c9a831c92662cfcb8824">00696</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeTo(ofstream&amp; stream)
<a name="l00697"></a>00697     {
<a name="l00698"></a>00698       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numInstructions = getInstructionCount();
<a name="l00699"></a>00699       <span class="keywordtype">float</span> ratio = (float)m_count / (<span class="keywordtype">float</span>)numInstructions;
<a name="l00700"></a>00700       per_1000_inst_value = 1000 * ratio;
<a name="l00701"></a>00701 
<a name="l00702"></a>00702       <span class="keywordtype">string</span> name = m_name;
<a name="l00703"></a>00703       name.append(m_suffix);
<a name="l00704"></a>00704       stream.setf(ios::left, ios::adjustfield);
<a name="l00705"></a>00705       stream &lt;&lt; setw(FILED1_LENGTH) &lt;&lt; name;
<a name="l00706"></a>00706 
<a name="l00707"></a>00707       stream.setf (ios::right, ios::adjustfield);
<a name="l00708"></a>00708       stream &lt;&lt; setw(FILED2_LENGTH) &lt;&lt; m_count;
<a name="l00709"></a>00709       stream &lt;&lt; setw(FILED3_LENGTH) &lt;&lt; per_1000_inst_value &lt;&lt; endl &lt;&lt; endl;
<a name="l00710"></a>00710     }
<a name="l00711"></a>00711 
<a name="l00712"></a>00712   <span class="keyword">private</span>:
<a name="l00713"></a><a class="code" href="classPER__1000__INST__Stat.html#a10fee97cef42d33172c4fc2f63bc7a71">00713</a>     <span class="keywordtype">float</span> per_1000_inst_value; 
<a name="l00714"></a>00714 };
<a name="l00715"></a>00715 
<a name="l00716"></a>00716 
<a name="l00717"></a>00717 
<a name="l00721"></a><a class="code" href="classPER__1000__PRET__INST__Stat.html">00721</a> <span class="keyword">class </span><a class="code" href="classPER__1000__PRET__INST__Stat.html" title="PER_1000_PRET_INST type stat.">PER_1000_PRET_INST_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00722"></a>00722 {
<a name="l00723"></a>00723   <span class="keyword">public</span>:
<a name="l00727"></a><a class="code" href="classPER__1000__PRET__INST__Stat.html#a936a4cc95050a97b7281b7a2fa07207f">00727</a>     <a class="code" href="classPER__1000__PRET__INST__Stat.html" title="PER_1000_PRET_INST type stat.">PER_1000_PRET_INST_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID):
<a name="l00728"></a>00728       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID) {}
<a name="l00729"></a>00729 
<a name="l00733"></a><a class="code" href="classPER__1000__PRET__INST__Stat.html#a9726ed3943763009bcc37f8dab33411d">00733</a>     <span class="keyword">virtual</span> <a class="code" href="classPER__1000__PRET__INST__Stat.html#a9726ed3943763009bcc37f8dab33411d">~PER_1000_PRET_INST_Stat</a>() {}
<a name="l00734"></a>00734 
<a name="l00738"></a><a class="code" href="classPER__1000__PRET__INST__Stat.html#a2aca938ef3f2acc92c46e3386680e5aa">00738</a>     <span class="keyword">virtual</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00739"></a>00739     {
<a name="l00740"></a>00740       <a class="code" href="classPER__1000__PRET__INST__Stat.html" title="PER_1000_PRET_INST type stat.">PER_1000_PRET_INST_Stat</a>* pStat = <span class="keyword">new</span> <a class="code" href="classPER__1000__PRET__INST__Stat.html" title="PER_1000_PRET_INST type stat.">PER_1000_PRET_INST_Stat</a>(m_name, m_fileName, m_ID);
<a name="l00741"></a>00741       pStat-&gt;<a class="code" href="classAbstractStat.html#a4ba3cbe5bcbbf922be0b0b0101c1931c">setCoreID</a>(coreID);
<a name="l00742"></a>00742       pStat-&gt;<a class="code" href="classAbstractStat.html#aa26aa9ab90712eec3ca55ec236729d9b">m_isTemplate</a> = <span class="keyword">false</span>;
<a name="l00743"></a>00743       <span class="keywordflow">return</span> pStat;
<a name="l00744"></a>00744     }
<a name="l00745"></a>00745 
<a name="l00749"></a><a class="code" href="classPER__1000__PRET__INST__Stat.html#aa353396e1c813cd55b6023de87abd807">00749</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> writeTo(ofstream&amp; stream)
<a name="l00750"></a>00750     {
<a name="l00751"></a>00751       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> PRET = getPseudoRetiredInstructionCount();
<a name="l00752"></a>00752       <span class="keywordtype">float</span> ratio = (float)m_count / (<span class="keywordtype">float</span>)PRET;
<a name="l00753"></a>00753       per_1000_pret_inst_value = 1000 * ratio;
<a name="l00754"></a>00754 
<a name="l00755"></a>00755       <span class="keywordtype">string</span> name = m_name;
<a name="l00756"></a>00756       name.append(m_suffix);
<a name="l00757"></a>00757       stream.setf ( ios::left, ios::adjustfield );
<a name="l00758"></a>00758       stream &lt;&lt; setw(FILED1_LENGTH) &lt;&lt; name;
<a name="l00759"></a>00759 
<a name="l00760"></a>00760       stream.setf ( ios::right, ios::adjustfield );
<a name="l00761"></a>00761       stream &lt;&lt; setw(FILED2_LENGTH) &lt;&lt; m_count;
<a name="l00762"></a>00762       stream &lt;&lt; setw(FILED3_LENGTH) &lt;&lt; per_1000_pret_inst_value &lt;&lt; endl &lt;&lt; endl;
<a name="l00763"></a>00763     }
<a name="l00764"></a>00764 
<a name="l00765"></a>00765   <span class="keyword">private</span>:
<a name="l00766"></a><a class="code" href="classPER__1000__PRET__INST__Stat.html#a00fced31ff12b4b45b9d9e43aae01a60">00766</a>     <span class="keywordtype">float</span> per_1000_pret_inst_value; 
<a name="l00767"></a>00767 };
<a name="l00768"></a>00768 
<a name="l00769"></a>00769 
<a name="l00773"></a><a class="code" href="classLINE__Stat.html">00773</a> <span class="keyword">class </span><a class="code" href="classLINE__Stat.html" title="LINE stat.">LINE_Stat</a> : <span class="keyword">public</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>
<a name="l00774"></a>00774 {
<a name="l00775"></a>00775   <span class="keyword">public</span>:
<a name="l00779"></a><a class="code" href="classLINE__Stat.html#a47df9b2c458dde5fbd0d626f3160297c">00779</a>     <a class="code" href="classLINE__Stat.html" title="LINE stat.">LINE_Stat</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; str, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; outputfilename, <span class="keywordtype">long</span> ID):
<a name="l00780"></a>00780       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>(str, outputfilename, ID) {}
<a name="l00781"></a>00781 
<a name="l00785"></a><a class="code" href="classLINE__Stat.html#a134f90d180cf462e41595ae257218781">00785</a>     <span class="keyword">virtual</span> <a class="code" href="classLINE__Stat.html#a134f90d180cf462e41595ae257218781">~LINE_Stat</a>() {}
<a name="l00786"></a>00786 };
<a name="l00787"></a>00787 
<a name="l00788"></a>00788 
<a name="l00792"></a><a class="code" href="classGlobalStatistics.html">00792</a> <span class="keyword">class </span><a class="code" href="classGlobalStatistics.html" title="Global statistics.">GlobalStatistics</a>
<a name="l00793"></a>00793 {
<a name="l00794"></a>00794   <span class="keyword">public</span>:
<a name="l00798"></a><a class="code" href="classGlobalStatistics.html#a73e7e79eef6bf08d9fd2df8acaf64689">00798</a>     <a class="code" href="classGlobalStatistics.html" title="Global statistics.">GlobalStatistics</a>(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase)
<a name="l00799"></a>00799     {
<a name="l00800"></a>00800       m_simBase = simBase;
<a name="l00801"></a>00801     }
<a name="l00802"></a>00802 
<a name="l00806"></a><a class="code" href="classGlobalStatistics.html#a26ae065660443e08ffdadf487a5689fd">00806</a>     ~<a class="code" href="classGlobalStatistics.html" title="Global statistics.">GlobalStatistics</a>()
<a name="l00807"></a>00807     {
<a name="l00808"></a>00808       m_globalStats.clear();
<a name="l00809"></a>00809     }
<a name="l00810"></a>00810 
<a name="l00814"></a><a class="code" href="classGlobalStatistics.html#a85920b29a4c79e2cc82fd85e4e52c848">00814</a>     <span class="keywordtype">void</span> addStatistic(<a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStat)
<a name="l00815"></a>00815     {
<a name="l00816"></a>00816       m_globalStats.push_back(pStat);
<a name="l00817"></a>00817     }
<a name="l00818"></a>00818 
<a name="l00822"></a><a class="code" href="classGlobalStatistics.html#a8d9ba4f1f47f24cba8382a6f670b2159">00822</a>     <span class="keywordtype">void</span> addDistribution(<a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>* pStat)
<a name="l00823"></a>00823     {
<a name="l00824"></a>00824       m_distributions.push_back(pStat);
<a name="l00825"></a>00825     }
<a name="l00826"></a>00826 
<a name="l00830"></a><a class="code" href="classGlobalStatistics.html#aa8ddebd957eaa94c26b97025b53ae0dd">00830</a>     <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; operator[](<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l00831"></a>00831 <span class="keyword">    </span>{
<a name="l00832"></a>00832       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStat =  m_globalStats[index];
<a name="l00833"></a>00833       <span class="keywordflow">return</span> (*pStat);
<a name="l00834"></a>00834     }
<a name="l00835"></a>00835 
<a name="l00839"></a><a class="code" href="classGlobalStatistics.html#acfb5976eb3bc88f841c8a406e8f58ae0">00839</a>     <span class="keywordtype">int</span> size()<span class="keyword">const</span>
<a name="l00840"></a>00840 <span class="keyword">    </span>{
<a name="l00841"></a>00841       <span class="keywordflow">return</span> m_globalStats.size();
<a name="l00842"></a>00842     }
<a name="l00843"></a>00843 
<a name="l00847"></a><a class="code" href="classGlobalStatistics.html#a79d14f876c81aeab5ea680ca1b45c9f6">00847</a>     <span class="keywordtype">void</span> displayAll()
<a name="l00848"></a>00848     {
<a name="l00849"></a>00849       vector&lt;AbstractStat*&gt;::iterator iter = m_globalStats.begin();
<a name="l00850"></a>00850       vector&lt;AbstractStat*&gt;::iterator end = m_globalStats.end();
<a name="l00851"></a>00851 
<a name="l00852"></a>00852       <span class="keywordflow">while</span> (iter != end) {
<a name="l00853"></a>00853         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStat = (*iter);
<a name="l00854"></a>00854         cout &lt;&lt; pStat-&gt;<a class="code" href="classAbstractStat.html#a6a34495d13bcc699bdc93097b9126e1c">getName</a>() &lt;&lt; endl;
<a name="l00855"></a>00855 
<a name="l00856"></a>00856         iter++;
<a name="l00857"></a>00857       }
<a name="l00858"></a>00858     }
<a name="l00859"></a>00859 
<a name="l00863"></a>00863     <span class="keywordtype">void</span> saveStats(<span class="keywordtype">string</span>);
<a name="l00864"></a>00864 
<a name="l00868"></a>00868     <span class="keywordtype">void</span> saveStats();
<a name="l00869"></a>00869 
<a name="l00873"></a>00873     <span class="keywordtype">void</span> writeTo(ofstream&amp; stream);
<a name="l00874"></a>00874 
<a name="l00875"></a>00875   <span class="keyword">private</span>:
<a name="l00876"></a><a class="code" href="classGlobalStatistics.html#a1ba2acd0dcab56c9067b78f93bb1ead4">00876</a>     vector&lt;AbstractStat*&gt; m_globalStats; 
<a name="l00877"></a><a class="code" href="classGlobalStatistics.html#ae620729ccffbf7196a566133bb2626f3">00877</a>     vector&lt;DIST_Stat*&gt; m_distributions; 
<a name="l00878"></a><a class="code" href="classGlobalStatistics.html#a9b405491bd623cc1c50558ba277c4fdc">00878</a>     <a class="code" href="classmacsim__c.html">macsim_c</a>* m_simBase;         
<a name="l00879"></a>00879 };
<a name="l00880"></a>00880 
<a name="l00881"></a>00881 
<a name="l00882"></a>00882 
<a name="l00886"></a><a class="code" href="classCoreStatistics.html">00886</a> <span class="keyword">class </span><a class="code" href="classCoreStatistics.html" title="Per core stats.">CoreStatistics</a>
<a name="l00887"></a>00887 {
<a name="l00888"></a>00888   <span class="keyword">public</span>:
<a name="l00892"></a><a class="code" href="classCoreStatistics.html#ab482f3661ea116d7bb213be23f7fa750">00892</a>     <a class="code" href="classCoreStatistics.html" title="Per core stats.">CoreStatistics</a>(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID = 0, <span class="keywordtype">bool</span> isTemplate = <span class="keyword">false</span>):
<a name="l00893"></a>00893       m_coreID(coreID),
<a name="l00894"></a>00894       m_isTemplate(isTemplate)
<a name="l00895"></a>00895     {
<a name="l00896"></a>00896       m_simBase = simBase;
<a name="l00897"></a>00897     }
<a name="l00898"></a>00898 
<a name="l00902"></a>00902     ~<a class="code" href="classCoreStatistics.html" title="Per core stats.">CoreStatistics</a>();
<a name="l00903"></a>00903 
<a name="l00907"></a><a class="code" href="classCoreStatistics.html#a7e1c8a6d069e2fba049745248e79777d">00907</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> setID(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> coreID)
<a name="l00908"></a>00908     {
<a name="l00909"></a>00909       m_coreID = coreID;
<a name="l00910"></a>00910     }
<a name="l00911"></a>00911 
<a name="l00915"></a><a class="code" href="classCoreStatistics.html#a1d824e0aa6094d476209b8ebc9eccc11">00915</a>     <span class="keywordtype">void</span> addStatistic(<a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStat)
<a name="l00916"></a>00916     {
<a name="l00917"></a>00917       m_CoreStats.push_back(pStat);
<a name="l00918"></a>00918     }
<a name="l00919"></a>00919 
<a name="l00923"></a><a class="code" href="classCoreStatistics.html#a8ff27cdfdf16d543f542386c0eb7c7af">00923</a>     <span class="keywordtype">void</span> addDistribution(<a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>* pStat)
<a name="l00924"></a>00924     {
<a name="l00925"></a>00925       m_distributions.push_back(pStat);
<a name="l00926"></a>00926     }
<a name="l00927"></a>00927 
<a name="l00931"></a><a class="code" href="classCoreStatistics.html#a93f4fbdfeb1a806ecb0fca44136df220">00931</a>     <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; operator[](<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l00932"></a>00932 <span class="keyword">    </span>{
<a name="l00933"></a>00933       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStat =  m_CoreStats[index];
<a name="l00934"></a>00934       <span class="keywordflow">return</span> (*pStat);
<a name="l00935"></a>00935     }
<a name="l00936"></a>00936 
<a name="l00940"></a><a class="code" href="classCoreStatistics.html#a3645316a2345ebab6e1f21072d53f1c8">00940</a>     <a class="code" href="classCoreStatistics.html" title="Per core stats.">CoreStatistics</a>* clone(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cloneCoreID, <a class="code" href="classmacsim__c.html">macsim_c</a>* simBase)
<a name="l00941"></a>00941     {
<a name="l00942"></a>00942       <a class="code" href="classCoreStatistics.html" title="Per core stats.">CoreStatistics</a>* pClone = <span class="keyword">new</span> <a class="code" href="classCoreStatistics.html" title="Per core stats.">CoreStatistics</a>(simBase, cloneCoreID);
<a name="l00943"></a>00943 
<a name="l00944"></a>00944       vector&lt;AbstractStat*&gt;::iterator iter = m_CoreStats.begin();
<a name="l00945"></a>00945       vector&lt;AbstractStat*&gt;::iterator end = m_CoreStats.end();
<a name="l00946"></a>00946       
<a name="l00947"></a>00947       <span class="keywordflow">while</span> (iter != end) {
<a name="l00948"></a>00948         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStat = (*iter);
<a name="l00949"></a>00949         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStatClone = pStat-&gt;<a class="code" href="classAbstractStat.html#aed9a458491d92fb2cc3c458990d9fab1">clone</a>(cloneCoreID);
<a name="l00950"></a>00950 
<a name="l00951"></a>00951         pClone-&gt;<a class="code" href="classCoreStatistics.html#a1d824e0aa6094d476209b8ebc9eccc11">addStatistic</a>(pStatClone);
<a name="l00952"></a>00952 
<a name="l00953"></a>00953         iter++;
<a name="l00954"></a>00954       }
<a name="l00955"></a>00955 
<a name="l00956"></a>00956       vector&lt;DIST_Stat*&gt;::iterator dist_iter = m_distributions.begin();
<a name="l00957"></a>00957       vector&lt;DIST_Stat*&gt;::iterator dist_end = m_distributions.end();
<a name="l00958"></a>00958 
<a name="l00959"></a>00959       <span class="keywordflow">while</span> (dist_iter != dist_end) {
<a name="l00960"></a>00960         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStat = (*dist_iter);
<a name="l00961"></a>00961         <a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>* pStatClone = <span class="keyword">static_cast&lt;</span><a class="code" href="classDIST__Stat.html" title="DIST type stat.">DIST_Stat</a>*<span class="keyword">&gt;</span>(pStat-&gt;<a class="code" href="classAbstractStat.html#aed9a458491d92fb2cc3c458990d9fab1">clone</a>(cloneCoreID));
<a name="l00962"></a>00962 
<a name="l00963"></a>00963         pClone-&gt;<a class="code" href="classCoreStatistics.html#a8ff27cdfdf16d543f542386c0eb7c7af">addDistribution</a>(pStatClone);
<a name="l00964"></a>00964 
<a name="l00965"></a>00965         dist_iter++;
<a name="l00966"></a>00966       }
<a name="l00967"></a>00967 
<a name="l00968"></a>00968       <span class="keywordflow">return</span> pClone;
<a name="l00969"></a>00969     }
<a name="l00970"></a>00970 
<a name="l00974"></a><a class="code" href="classCoreStatistics.html#adaff7217d1b9fedee4ff5f9f074c604e">00974</a>     <span class="keywordtype">void</span> displayAll()
<a name="l00975"></a>00975     {
<a name="l00976"></a>00976       vector&lt;AbstractStat*&gt;::iterator iter = m_CoreStats.begin();
<a name="l00977"></a>00977       vector&lt;AbstractStat*&gt;::iterator end = m_CoreStats.end();
<a name="l00978"></a>00978 
<a name="l00979"></a>00979       <span class="keywordflow">while</span> (iter != end) {
<a name="l00980"></a>00980         <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>* pStat = (*iter);
<a name="l00981"></a>00981         cout &lt;&lt; pStat-&gt;<a class="code" href="classAbstractStat.html#a6a34495d13bcc699bdc93097b9126e1c">getName</a>() &lt;&lt; endl;
<a name="l00982"></a>00982 
<a name="l00983"></a>00983         iter++;
<a name="l00984"></a>00984       }
<a name="l00985"></a>00985     }
<a name="l00986"></a>00986 
<a name="l00990"></a>00990     <span class="keywordtype">void</span> saveStats(<span class="keywordtype">string</span>);
<a name="l00991"></a>00991 
<a name="l00995"></a>00995     <span class="keywordtype">void</span> saveStats();
<a name="l00996"></a>00996 
<a name="l00997"></a>00997   <span class="keyword">private</span>:
<a name="l00998"></a><a class="code" href="classCoreStatistics.html#a1474d715511078b522b00f29bfb08c99">00998</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_coreID; 
<a name="l00999"></a><a class="code" href="classCoreStatistics.html#a75d62886dba5d44a6b5dcd87ca9e25fc">00999</a>     vector&lt;AbstractStat*&gt; m_CoreStats; 
<a name="l01000"></a><a class="code" href="classCoreStatistics.html#a4f8bb0a5353335409018ad3862d7279b">01000</a>     vector&lt;DIST_Stat*&gt; m_distributions; 
<a name="l01001"></a><a class="code" href="classCoreStatistics.html#aab80ae23a0aa22e19e3f5a2b4b4710af">01001</a>     <span class="keywordtype">bool</span> m_isTemplate; 
<a name="l01002"></a><a class="code" href="classCoreStatistics.html#ab5a729b307a516a6987f52975ad7df57">01002</a>     <a class="code" href="classmacsim__c.html">macsim_c</a>* m_simBase;         
<a name="l01003"></a>01003 };
<a name="l01004"></a>01004 
<a name="l01005"></a>01005 
<a name="l01011"></a><a class="code" href="classProcessorStatistics.html">01011</a> <span class="keyword">class </span><a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>
<a name="l01012"></a>01012 {
<a name="l01013"></a>01013   <span class="keyword">public</span>:
<a name="l01017"></a>01017     <a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>(<a class="code" href="classmacsim__c.html">macsim_c</a>* simBase);
<a name="l01018"></a>01018 
<a name="l01022"></a>01022     ~<a class="code" href="classProcessorStatistics.html" title="Processor stats.">ProcessorStatistics</a>();
<a name="l01023"></a>01023 
<a name="l01028"></a><a class="code" href="classProcessorStatistics.html#a7f4f1fa10e0beb9c77fb7384219f375d">01028</a>     <span class="keyword">inline</span> <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; operator[](<span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l01029"></a>01029 <span class="keyword">    </span>{
<a name="l01030"></a>01030       <a class="code" href="classAbstractStat.html" title="Statistics base class.">AbstractStat</a>&amp; stat = (*m_globalStatistics)[index];
<a name="l01031"></a>01031       <span class="keywordflow">return</span> stat;
<a name="l01032"></a>01032     }
<a name="l01033"></a>01033 
<a name="l01037"></a>01037     <a class="code" href="classGlobalStatistics.html" title="Global statistics.">GlobalStatistics</a>* globalStats();
<a name="l01038"></a>01038 
<a name="l01039"></a>01039 
<a name="l01044"></a><a class="code" href="classProcessorStatistics.html#ae5e3d2655a7b9615177926d8388ca198">01044</a>     <span class="keyword">inline</span> <a class="code" href="classCoreStatistics.html" title="Per core stats.">CoreStatistics</a>&amp; core(<span class="keywordtype">int</span> coreID)<span class="keyword"> const</span>
<a name="l01045"></a>01045 <span class="keyword">    </span>{
<a name="l01046"></a>01046       <span class="comment">// if invalid coreID, default to the last one</span>
<a name="l01047"></a>01047       <span class="keywordflow">if</span>(coreID &gt;= m_allCoresStats.size())
<a name="l01048"></a>01048         coreID = m_allCoresStats.size() - 1;
<a name="l01049"></a>01049 
<a name="l01050"></a>01050       <a class="code" href="classCoreStatistics.html" title="Per core stats.">CoreStatistics</a>* pCoreModel = m_allCoresStats[coreID];
<a name="l01051"></a>01051       <span class="keywordflow">return</span> (*pCoreModel);
<a name="l01052"></a>01052     }
<a name="l01053"></a>01053 
<a name="l01057"></a>01057     <span class="keywordtype">void</span> setNumCores(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numCores);
<a name="l01058"></a>01058 
<a name="l01063"></a>01063     <span class="keywordtype">void</span> saveStats(<span class="keywordtype">string</span> ext);
<a name="l01064"></a>01064 
<a name="l01068"></a>01068     <span class="keywordtype">void</span> saveStats();
<a name="l01069"></a>01069 
<a name="l01070"></a>01070   <span class="keyword">private</span>:
<a name="l01071"></a><a class="code" href="classProcessorStatistics.html#ab7c416dfed4f35806c7c0ab940eb13e3">01071</a>     <a class="code" href="classGlobalStatistics.html" title="Global statistics.">GlobalStatistics</a>*  m_globalStatistics; 
<a name="l01072"></a><a class="code" href="classProcessorStatistics.html#aebf8d458721e8dae44eb6553f63e8bd3">01072</a>     vector&lt;CoreStatistics*&gt; m_allCoresStats; 
<a name="l01073"></a><a class="code" href="classProcessorStatistics.html#a8578cc09c367d3be975d814322d97f5b">01073</a>     <a class="code" href="classmacsim__c.html">macsim_c</a>* m_simBase;         
<a name="l01074"></a>01074 };
<a name="l01075"></a>01075 
<a name="l01076"></a>01076 
<a name="l01078"></a>01078 
<a name="l01079"></a>01079 <span class="comment">// Macros to accumulate stats</span>
<a name="l01080"></a>01080 
<a name="l01081"></a>01081 <span class="preprocessor">#define WATTCH_CORE_EVENT(coreID, UnitName, ComponentName)              \</span>
<a name="l01082"></a>01082 <span class="preprocessor">  TheProcessorPowerModel.core(coreID)[E_##UnitName][E_##ComponentName]++;</span>
<a name="l01083"></a>01083 <span class="preprocessor"></span>
<a name="l01084"></a>01084 <span class="preprocessor">#define WATTCH_CORE_EVENT_N(coreID, UnitName, ComponentName, delta)     \</span>
<a name="l01085"></a>01085 <span class="preprocessor">  TheProcessorPowerModel.core(coreID)[E_##UnitName][E_##ComponentName]+=delta;</span>
<a name="l01086"></a>01086 <span class="preprocessor"></span>
<a name="l01087"></a>01087 <span class="preprocessor">#define WATTCH_GLOBAL_EVENT(UnitName, ComponentName)            \</span>
<a name="l01088"></a>01088 <span class="preprocessor">  TheProcessorPowerModel[E_##UnitName][E_##ComponentName]++;</span>
<a name="l01089"></a>01089 <span class="preprocessor"></span>
<a name="l01090"></a>01090 <span class="preprocessor">#define WATTCH_GLOBAL_EVENT_N(UnitName, ComponentName, delta)           \</span>
<a name="l01091"></a>01091 <span class="preprocessor">  TheProcessorPowerModel[E_##UnitName][E_##ComponentName]+=delta;</span>
<a name="l01092"></a>01092 <span class="preprocessor"></span>
<a name="l01093"></a>01093 <span class="preprocessor">#define STAT_CORE_EVENT(coreID, Event)                                  \</span>
<a name="l01094"></a>01094 <span class="preprocessor">  m_simBase-&gt;m_ProcessorStats-&gt;core(coreID)[Event - PER_CORE_STATS_ENUM_FIRST]++;</span>
<a name="l01095"></a>01095 <span class="preprocessor"></span>
<a name="l01096"></a>01096 <span class="preprocessor">#define STAT_CORE_EVENT_M(coreID, Event)                                \</span>
<a name="l01097"></a>01097 <span class="preprocessor">  m_simBase-&gt;m_ProcessorStats-&gt;core(coreID)[Event - PER_CORE_STATS_ENUM_FIRST]--;</span>
<a name="l01098"></a>01098 <span class="preprocessor"></span>
<a name="l01099"></a>01099 <span class="preprocessor">#define STAT_CORE_EVENT_N(coreID, Event, delta)                         \</span>
<a name="l01100"></a>01100 <span class="preprocessor">  m_simBase-&gt;m_ProcessorStats-&gt;core(coreID)[Event  - PER_CORE_STATS_ENUM_FIRST]+=delta;</span>
<a name="l01101"></a>01101 <span class="preprocessor"></span>
<a name="l01102"></a>01102 
<a name="l01103"></a>01103 <span class="comment">// increment a stat</span>
<a name="l01104"></a>01104 <span class="preprocessor">#define STAT_EVENT(ID)                                                   \</span>
<a name="l01105"></a>01105 <span class="preprocessor">  (*m_simBase-&gt;m_ProcessorStats)[ID]++</span>
<a name="l01106"></a>01106 <span class="preprocessor"></span>
<a name="l01107"></a>01107 <span class="comment">// decrement a stat</span>
<a name="l01108"></a>01108 <span class="preprocessor">#define STAT_EVENT_M(ID)                                                 \</span>
<a name="l01109"></a>01109 <span class="preprocessor">  (*m_simBase-&gt;m_ProcessorStats)[ID]--</span>
<a name="l01110"></a>01110 <span class="preprocessor"></span>
<a name="l01111"></a>01111 <span class="comment">// increat a stat with delta value</span>
<a name="l01112"></a>01112 <span class="preprocessor">#define STAT_EVENT_N(ID, delta)                                          \</span>
<a name="l01113"></a>01113 <span class="preprocessor">  (*m_simBase-&gt;m_ProcessorStats)[ID] += delta</span>
<a name="l01114"></a>01114 <span class="preprocessor"></span>
<a name="l01115"></a>01115 
<a name="l01116"></a>01116 
<a name="l01117"></a>01117 
<a name="l01118"></a>01118 <span class="preprocessor">#endif //STATS_H_INCLUDED</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Dec 7 2011 23:21:52 for MacSim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
